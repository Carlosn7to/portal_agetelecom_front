"use strict";(self["webpackChunkageportal"]=self["webpackChunkageportal"]||[]).push([[898],{9898:function(a,e,i){i.r(e),i.d(e,{default:function(){return wa}});var t=i(3396);function l(a,e,i,l,s,n){const o=(0,t.up)("MailersAvailable"),m=(0,t.up)("TemplatesAvailable"),d=(0,t.up)("TemplateOptions");return(0,t.wg)(),(0,t.iD)(t.HY,null,["mailers"===s.page?((0,t.wg)(),(0,t.j4)(o,{key:0,onViewTemplate:n.viewTemplate},null,8,["onViewTemplate"])):(0,t.kq)("",!0),"templates"===s.page?((0,t.wg)(),(0,t.j4)(m,{key:1,mailer:s.mailer,onBackMailer:e[0]||(e[0]=a=>s.page="mailers"),onOptionsTemplate:n.optionsTemplate},null,8,["mailer","onOptionsTemplate"])):(0,t.kq)("",!0),"template-options"===s.page?((0,t.wg)(),(0,t.j4)(d,{key:2,template:s.template,onBackTemplates:e[1]||(e[1]=a=>s.page="templates")},null,8,["template"])):(0,t.kq)("",!0)],64)}var s=i(65),n=i(7139);const o={class:"container-mail"},m=(0,t._)("h1",null,"Mailers disponíveis",-1),d={class:"mailers"},r={class:"section"},p={class:"table-list"},c=(0,t.uE)('<div class="header"><div class="data-item"><span> E-mail </span></div><div class="data-item"><span> Limite diário </span></div><div class="data-item"><span> Limite atingido </span></div><div class="data-item"><span> Lotes enviados </span></div><div class="data-item"><span> E-mails enviados </span></div><div class="data-item"><span> Templates disponíveis </span></div></div>',1),u={class:"body"},v=["onClick"],_={class:"data-item"},h={class:"data-item"},f={class:"data-item"},g={class:"data-item"},k={class:"data-item"},b={class:"data-item"};function T(a,e,i,l,s,T){return(0,t.wg)(),(0,t.iD)("div",o,[m,(0,t._)("div",d,[(0,t._)("div",r,[(0,t._)("div",p,[c,(0,t._)("div",u,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.data,(a=>((0,t.wg)(),(0,t.iD)("div",{class:"row-item",key:a.id,onClick:e=>T.viewTemplate({name:a.mailer,id:a.id})},[(0,t._)("div",_,(0,n.zw)(a.mailer),1),(0,t._)("div",h,(0,n.zw)(a.limit_daily),1),(0,t._)("div",f,(0,n.zw)(a.limit_reached),1),(0,t._)("div",g,(0,n.zw)(a.info.batch),1),(0,t._)("div",k,(0,n.zw)(a.info.emails),1),(0,t._)("div",b,(0,n.zw)(a.templates),1)],8,v)))),128))])])])])])}var w=i(8089),E=i(680),S={name:"MailersAvailable",data(){return{data:{}}},methods:{...(0,s.OI)(["SAVE_SYSTEM"]),viewTemplate:function(a){this.$emit("view-template",a)},getMailers:function(){(0,w.m)({method:"GET",url:"agetools/tools/mailer/mailers",headers:{Authorization:"Bearer "+E.Z.get("token")}}).then((a=>{this.data=a.data,this.SAVE_SYSTEM({loading:!1})}))}},beforeMount(){this.SAVE_SYSTEM({loading:!0}),this.getMailers()}},M=i(89);const A=(0,M.Z)(S,[["render",T]]);var V=A;const y=a=>((0,t.dD)("data-v-3455c9be"),a=a(),(0,t.Cn)(),a),Y={class:"container-mail"},D={class:"back"},q={class:"mailers"},O={class:"section"},z={class:"table-list"},C=y((()=>(0,t._)("div",{class:"header"},[(0,t._)("div",{class:"data-item"},[(0,t._)("span",null," Template ")]),(0,t._)("div",{class:"data-item"},[(0,t._)("span",null," Lotes enviados ")]),(0,t._)("div",{class:"data-item"},[(0,t._)("span",null," E-mails enviados ")])],-1))),I={class:"body"},U=["onClick"],Z={class:"data-item"},H={class:"data-item"},B={class:"data-item"};function $(a,e,i,l,s,o){return(0,t.wg)(),(0,t.iD)("div",Y,[(0,t._)("h1",null,[(0,t.Uk)("Templates disponíveis - "),(0,t._)("b",null,(0,n.zw)(i.mailer.name),1)]),(0,t._)("div",D,[(0,t._)("button",{onClick:e[0]||(e[0]=(...a)=>o.backMailers&&o.backMailers(...a))},"Voltar")]),(0,t._)("div",q,[(0,t._)("div",O,[(0,t._)("div",z,[C,(0,t._)("div",I,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.data,(a=>((0,t.wg)(),(0,t.iD)("div",{class:"row-item",key:a.id,onClick:e=>o.optionsTemplate({template:a,mailer:this.mailer})},[(0,t._)("div",Z,(0,n.zw)(a.name),1),(0,t._)("div",H,(0,n.zw)(a.info.batch),1),(0,t._)("div",B,(0,n.zw)(a.info.emails),1)],8,U)))),128))])])])])])}var j={name:"TemplatesAvailable",props:["mailer"],emits:["back-maier","options-template"],data(){return{data:{}}},methods:{...(0,s.OI)(["SAVE_SYSTEM"]),backMailers:function(){this.$emit("back-mailer")},optionsTemplate:function(a){this.SAVE_SYSTEM({loading:!0}),this.$emit("options-template",a)},getTemplates:function(){this.SAVE_SYSTEM({loading:!0}),(0,w.m)({method:"GET",url:"agetools/tools/mailer/templates",headers:{Authorization:"Bearer "+E.Z.get("token")},params:{mailerId:this.mailer.id}}).then((a=>{this.data=a.data,this.SAVE_SYSTEM({loading:!1})}))}},beforeMount(){this.getTemplates()}};const L=(0,M.Z)(j,[["render",$],["__scopeId","data-v-3455c9be"]]);var K=L;const N=a=>((0,t.dD)("data-v-3e9c91ac"),a=a(),(0,t.Cn)(),a),F={key:0,class:"container-mail"},G={class:"back"},J={class:"options"},x=N((()=>(0,t._)("div",{class:"option"},[(0,t._)("i",{class:"fi fi-rr-eye"}),(0,t._)("h2",null,"Visualizar Template")],-1))),P=N((()=>(0,t._)("i",{class:"fi fi-rr-envelope"},null,-1))),Q=N((()=>(0,t._)("h2",null,"E-mail individual",-1))),R=[P,Q],W=N((()=>(0,t._)("div",{class:"option"},[(0,t._)("i",{class:"fi fi-rr-envelopes"}),(0,t._)("h2",null,"E-mail em massa")],-1))),X=N((()=>(0,t._)("div",{class:"option"},[(0,t._)("i",{class:"fi fi-rr-envelope-open"}),(0,t._)("h2",null,"Histórico de envios")],-1)));function aa(a,e,i,l,s,n){const o=(0,t.up)("UniqueEmail");return(0,t.wg)(),(0,t.iD)(t.HY,null,["main"===s.page?((0,t.wg)(),(0,t.iD)("div",F,[(0,t._)("div",G,[(0,t._)("button",{onClick:e[0]||(e[0]=(...a)=>n.backTemplates&&n.backTemplates(...a))}," Voltar ")]),(0,t._)("div",J,[x,(0,t._)("div",{class:"option",onClick:e[1]||(e[1]=a=>s.page="unique-email")},R),W,X])])):(0,t.kq)("",!0),"unique-email"===s.page?((0,t.wg)(),(0,t.j4)(o,{key:1,onBackOptions:e[2]||(e[2]=a=>s.page="main"),dataconfig:this.template},null,8,["dataconfig"])):(0,t.kq)("",!0)],64)}var ea=i(9242);const ia=a=>((0,t.dD)("data-v-366da4b2"),a=a(),(0,t.Cn)(),a),ta={class:"back"},la={class:"form-container"},sa={class:"form"},na=ia((()=>(0,t._)("h1",null,"Carta de cobrança - Débito e ONU",-1))),oa=["for"],ma={key:0},da=["type","onUpdate:modelValue","required","name"],ra={class:"input"},pa=ia((()=>(0,t._)("label",{for:"email"},[(0,t.Uk)("E-mail: "),(0,t._)("b",null,"*")],-1))),ca=ia((()=>(0,t._)("div",{class:"send"},[(0,t._)("button",null,"Enviar e-mail")],-1)));function ua(a,e,i,l,s,o){return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t._)("div",ta,[(0,t._)("button",{onClick:e[0]||(e[0]=(...a)=>o.backOptions&&o.backOptions(...a))}," Voltar ")]),(0,t._)("div",la,[(0,t._)("div",sa,[na,(0,t._)("form",{action:"#",onSubmit:e[2]||(e[2]=(0,ea.iM)(((...a)=>o.sendEmail&&o.sendEmail(...a)),["prevent"]))},[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.form,((a,e)=>((0,t.wg)(),(0,t.iD)("div",{class:"input",key:e},[(0,t._)("label",{for:a.name},[(0,t.Uk)((0,n.zw)(a.title)+": ",1),a.required?((0,t.wg)(),(0,t.iD)("b",ma,"*")):(0,t.kq)("",!0)],8,oa),(0,t.wy)((0,t._)("input",{type:a.type,"onUpdate:modelValue":e=>a.data=e,required:a.required,name:a.name,autocomplete:"off"},null,8,da),[[ea.YZ,a.data]])])))),128)),(0,t._)("div",ra,[pa,(0,t.wy)((0,t._)("input",{type:"email",name:"email",id:"email","onUpdate:modelValue":e[1]||(e[1]=a=>s.email=a),required:"",autocomplete:"off"},null,512),[[ea.nr,s.email]])]),ca],32)])])],64)}var va={name:"uniqueEmail",emits:["back-options"],props:["dataconfig"],data(){return{form:{},email:""}},methods:{backOptions:function(){this.$emit("back-options")},sendEmail:function(){const a={mailerId:this.dataconfig.mailer.id,templateId:this.dataconfig.template.id,email:this.email,form:this.form};(0,w.m)({method:"post",url:"agetools/tools/mailer/email/sending",headers:{Authorization:"Bearer "+E.Z.get("token")},data:{data:JSON.stringify(a)}}).then((a=>{console.log(a)}))},convertForm:function(){this.form=JSON.parse(this.dataconfig.template.form)}},beforeMount(){this.convertForm()}};const _a=(0,M.Z)(va,[["render",ua],["__scopeId","data-v-366da4b2"]]);var ha=_a,fa={name:"TemplateOptions",emits:["back-templates"],components:{UniqueEmail:ha},props:["template"],data(){return{page:"main"}},methods:{...(0,s.OI)(["SAVE_SYSTEM"]),backTemplates:function(){this.$emit("back-templates")}},beforeMount(){this.SAVE_SYSTEM({loading:!1})}};const ga=(0,M.Z)(fa,[["render",aa],["__scopeId","data-v-3e9c91ac"]]);var ka=ga,ba={name:"HomeMailer",components:{MailersAvailable:V,TemplatesAvailable:K,TemplateOptions:ka},data(){return{page:"mailers",mailer:{},template:{}}},methods:{...(0,s.OI)(["SAVE_SYSTEM"]),viewTemplate:function(a){this.SAVE_SYSTEM({loading:!0}),this.mailer=a,this.page="templates"},optionsTemplate:function(a){this.SAVE_SYSTEM({loading:!0}),this.template=a,this.page="template-options"}},beforeMount(){}};const Ta=(0,M.Z)(ba,[["render",l]]);var wa=Ta}}]);
//# sourceMappingURL=898.8be59ad8.js.map