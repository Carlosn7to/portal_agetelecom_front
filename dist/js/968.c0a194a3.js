"use strict";(self["webpackChunkageportal"]=self["webpackChunkageportal"]||[]).push([[968],{9968:function(t,e,l){l.r(e),l.d(e,{default:function(){return L}});var a=l(3396),o=l(7139),i=l(9242);const n=t=>((0,a.dD)("data-v-31e2bbde"),t=t(),(0,a.Cn)(),t),d={class:"container"},s={class:"filters"},r=n((()=>(0,a._)("div",{class:"search"},[(0,a._)("input",{type:"text",name:"search",id:"search",placeholder:"Buscar...",autocomplete:"off"})],-1))),u={class:"filter"},c=n((()=>(0,a._)("i",{class:"fi fi-rs-filter"},null,-1))),_=[c],h={key:0},p=n((()=>(0,a._)("i",{class:"fi fi-rs-filter-slash"},null,-1))),g=[p],m={class:"data"},f={class:"table"},y={key:0},v=n((()=>(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",null,"Protocolo"),(0,a._)("th",null,"Status"),(0,a._)("th",null,"Tipo de solicitação"),(0,a._)("th",null,"Nº do contrato"),(0,a._)("th",null,"Nome do cliente"),(0,a._)("th",null,"Equipe"),(0,a._)("th",null,"Técnico"),(0,a._)("th",null,"Data inicio att."),(0,a._)("th",null,"Data fim att."),(0,a._)("th",null,"Situacao do contrato"),(0,a._)("th",null,"Status do contrato"),(0,a._)("th",null,"Contexto"),(0,a._)("th",null,"Problema")])],-1))),w={key:0,class:"modal-filters"},b={class:"card-modal"},S={class:"close-button"},k=n((()=>(0,a._)("h2",null,"Filtros disponíveis",-1))),z={class:"filters-available"},D={class:"filter-available"},N=n((()=>(0,a._)("label",{for:"typeNote"},"Tipo de solicitação: ",-1))),A=n((()=>(0,a._)("option",{value:"0",selected:""},"--- Selecione um tipo de solicitação ---",-1))),E=["value"],T={class:"filter-available"},q=n((()=>(0,a._)("label",{for:"dateSchedule"},[(0,a.Uk)("Data do agendamento: "),(0,a._)("b",null,"*")],-1))),C={class:"filter-available"},M=n((()=>(0,a._)("label",{for:"region"},"Região: ",-1))),Y=n((()=>(0,a._)("option",{value:"0",selected:""},"--- Selecione a região ---",-1))),H=["value"],I=n((()=>(0,a._)("div",{class:"filter-data"},[(0,a._)("button",null,"Filtrar")],-1)));function V(t,e,l,n,c,p){const V=(0,a.up)("LoadingSpinner");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",d,[(0,a._)("div",s,[r,(0,a._)("div",u,[(0,a._)("button",{onClick:e[0]||(e[0]=(...t)=>p.modalAction&&p.modalAction(...t))},_),c.filtered?((0,a.wg)(),(0,a.iD)("button",h,g)):(0,a.kq)("",!0)])]),(0,a._)("div",m,[(0,a._)("div",f,[c.loading?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("table",y,[v,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(c.dataItems,((t,e)=>((0,a.wg)(),(0,a.iD)("tr",{key:e},[(0,a._)("td",null,(0,o.zw)(t.protocol),1),(0,a._)("td",null,(0,o.zw)(t.status),1),(0,a._)("td",null,(0,o.zw)(t.type_note),1),(0,a._)("td",null,(0,o.zw)(t.contract_id),1),(0,a._)("td",null,(0,o.zw)(t.name_client),1),(0,a._)("td",null,(0,o.zw)(t.team),1),(0,a._)("td",null,(0,o.zw)(t.technical),1),(0,a._)("td",null,(0,o.zw)(t.date_start_attendance),1),(0,a._)("td",null,(0,o.zw)(t.date_end_attendance),1),(0,a._)("td",null,(0,o.zw)(t.stage_contract),1),(0,a._)("td",null,(0,o.zw)(t.status_contract),1),(0,a._)("td",null,(0,o.zw)(t.context),1),(0,a._)("td",null,(0,o.zw)(t.problem),1)])))),128))])])),c.loading?((0,a.wg)(),(0,a.j4)(V,{key:1})):(0,a.kq)("",!0)])])]),c.modal?((0,a.wg)(),(0,a.iD)("div",w,[(0,a._)("div",b,[(0,a._)("div",S,[(0,a._)("i",{class:"fi fi-rs-cross",onClick:e[1]||(e[1]=(...t)=>p.modalAction&&p.modalAction(...t))})]),k,(0,a._)("form",{action:"#",onSubmit:e[5]||(e[5]=(0,i.iM)(((...t)=>p.getData&&p.getData(...t)),["prevent"]))},[(0,a._)("div",z,[(0,a._)("div",D,[N,(0,a.wy)((0,a._)("select",{name:"typeNote",id:"typeNote","onUpdate:modelValue":e[2]||(e[2]=t=>c.payload.typeNote=t)},[A,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(this.filters.typeNote,(t=>((0,a.wg)(),(0,a.iD)("option",{value:t.id,key:t.id},(0,o.zw)(t.title),9,E)))),128))],512),[[i.bM,c.payload.typeNote]])]),(0,a._)("div",T,[q,(0,a.wy)((0,a._)("input",{type:"date",name:"dateSchedule",id:"dateSchedule","onUpdate:modelValue":e[3]||(e[3]=t=>c.payload.dateSchedule=t),required:""},null,512),[[i.nr,c.payload.dateSchedule]])]),(0,a._)("div",C,[M,(0,a.wy)((0,a._)("select",{name:"region",id:"region","onUpdate:modelValue":e[4]||(e[4]=t=>c.payload.region=t)},[Y,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(this.filters.region,(t=>((0,a.wg)(),(0,a.iD)("option",{value:t.id,key:t.id},(0,o.zw)(t.title),9,H)))),128))],512),[[i.bM,c.payload.region]])]),I])],32)])])):(0,a.kq)("",!0)],64)}var F=l(65),U=l(8089),Z=l(680),x=l(9372),B={name:"HomeSchedule",components:{LoadingSpinner:x.Z},data(){return{filtered:!1,modal:!1,filters:{typeNote:{},region:{}},payload:{typeNote:0,dateSchedule:null,region:0},loading:!1,dataItems:{}}},methods:{...(0,F.OI)(["SAVE_SYSTEM"]),modalAction(){this.modal=!this.modal},getFilters:function(){(0,U.m)({method:"GET",url:"agetools/tools/schedule/dashboard/filters",headers:{Authorization:"Bearer "+Z.Z.get("token")}}).then((t=>{this.filters.typeNote=t.data.typeNotes,this.filters.region=t.data.regions}))},getData:function(){this.loading=!0,this.modal=!1,(0,U.m)({method:"GET",url:"agetools/tools/schedule/dashboard/data",params:{dateSchedule:this.payload.dateSchedule,typeNote:this.payload.typeNote,region:this.payload.region},headers:{Authorization:"Bearer "+Z.Z.get("token")}}).then((t=>{this.loading=!1,this.dataItems=t.data}))}},computed:{...(0,F.Se)(["system"])},beforeMount(){this.SAVE_SYSTEM({loading:!1}),this.getFilters()}},K=l(89);const G=(0,K.Z)(B,[["render",V],["__scopeId","data-v-31e2bbde"]]);var L=G}}]);
//# sourceMappingURL=968.c0a194a3.js.map