"use strict";(self["webpackChunkageportal"]=self["webpackChunkageportal"]||[]).push([[482],{7482:function(a,s,e){e.r(s),e.d(s,{default:function(){return ua}});var t=e(3396),l=e(7139);const d=a=>((0,t.dD)("data-v-02bbdf76"),a=a(),(0,t.Cn)(),a),i={key:0,class:"container-dashboard"},n={class:"filters"},o=d((()=>(0,t._)("h1",null,"DASHBOARD",-1))),r={class:"buttons"},c=["disabled"],p=d((()=>(0,t._)("span",null," Último mês ",-1))),u=[p],g={class:"graphs"},h={class:"group-third"},b=d((()=>(0,t._)("div",{class:"card"},null,-1))),_={class:"card"},m=d((()=>(0,t._)("div",{class:"icon"},[(0,t._)("i",{class:"fi fi-rr-star"})],-1))),f={class:"title-info"},y=d((()=>(0,t._)("h2",null,"Valor da estrela",-1))),v={class:"card"},C=d((()=>(0,t._)("div",{class:"icon"},[(0,t._)("i",{class:"fi fi-rr-chevron-double-up"})],-1))),S={class:"title-info"},k=d((()=>(0,t._)("h2",null,"Acelerador",-1))),w=d((()=>(0,t._)("div",{class:"icon"},[(0,t._)("i",{class:"fi fi-rr-chevron-double-down"})],-1))),D={class:"title-info"},E=d((()=>(0,t._)("h2",null,"Deflator",-1)));function L(a,s,e,d,p,L){const x=(0,t.up)("GraphCards"),R=(0,t.up)("GraphSales");return!0===p.status?((0,t.wg)(),(0,t.iD)("div",i,[(0,t._)("div",n,[o,(0,t._)("div",r,[(0,t._)("button",{disabled:!0===p.filters.pending,class:(0,l.C_)({selected:"month"===p.filters.dataType}),onClick:s[0]||(s[0]=a=>L.getData("month"))},u,10,c)])]),(0,t.Wm)(x,{data:p.data},null,8,["data"]),(0,t._)("div",g,[(0,t.Wm)(R,{data_sales:p.data.sales,data_stars:p.data.stars},null,8,["data_sales","data_stars"]),(0,t._)("div",h,[b,(0,t._)("div",_,[m,(0,t._)("div",f,[(0,t._)("h3",null,"R$"+(0,l.zw)(p.data.valueStar.value),1),y])]),(0,t._)("div",v,[p.data.commission.diff>0?((0,t.wg)(),(0,t.iD)(t.HY,{key:0},[C,(0,t._)("div",S,[(0,t._)("h3",null,"R$"+(0,l.zw)(p.data.commission.diff),1),k])],64)):((0,t.wg)(),(0,t.iD)(t.HY,{key:1},[w,(0,t._)("div",D,[(0,t._)("h3",null,"R$ "+(0,l.zw)(p.data.commission.diff),1),E])],64))])])])])):(0,t.kq)("",!0)}var x=e(65);const R=a=>((0,t.dD)("data-v-4100c438"),a=a(),(0,t.Cn)(),a),T={class:"card"},G=R((()=>(0,t._)("div",{class:"title-info"},[(0,t._)("h1",null,"Vendas e média de estrelas do período"),(0,t._)("h3",null,"Apenas vendas aprovadas e válidas")],-1))),W=R((()=>(0,t._)("div",{class:"graph"},[(0,t._)("canvas",{id:"lineSalesDaily"})],-1))),z=[G,W];function I(a,s,e,l,d,i){return(0,t.wg)(),(0,t.iD)("div",T,z)}e(7658);var A=e(1632),B={name:"GraphSales",props:["data_sales","data_stars"],computed:{...(0,x.Se)(["system"])},methods:{getLineSales:function(){const a=document.getElementById("lineSalesDaily").getContext("2d"),s=["#6C6EF6","#d4d4e1","#6C6EF6","#d4d4e1","#6C6EF6"],e=[],t=[],l=[];this.data_sales.salesForWeek.forEach((a=>{t.push("Sem "+a.week),e.push(a.sales)})),this.data_stars.starsForWeek.forEach((a=>{l.push(a.sales)}));const d={labels:t,datasets:[{type:"bar",data:e,label:"Vendas",borderWidth:0,pointRadius:0,borderRadius:15,backgroundColor:s,borderSkipped:!1,maxBarThickness:50,categoryPercentage:.8,order:2},{type:"line",order:1,data:l,borderWidth:2,pointRadius:4,backgroundColor:"#6A6CF6",fill:!1,label:"Estrelas"}]},i=new A.kL(a,{data:d,options:{scales:{y:{display:!0,grid:{display:!1}},x:{display:!0,grid:{display:!1},border:{display:!1},ticks:{font:{size:8}}}},plugins:{legend:{display:!1}},elements:{line:{tension:.3,borderColor:"rgb(52,140,212)"}}}});return i}},mounted(){this.getLineSales()}},M=e(89);const F=(0,M.Z)(B,[["render",I],["__scopeId","data-v-4100c438"]]);var V=F;const Y=a=>((0,t.dD)("data-v-09b5d5cd"),a=a(),(0,t.Cn)(),a),Z={class:"graphs-cards"},$={class:"card"},q=Y((()=>(0,t._)("div",{class:"icon"},[(0,t._)("i",{class:"fi fi-rr-chart-mixed"})],-1))),H={class:"title-info"},O=Y((()=>(0,t._)("h2",null,"Total de vendas",-1))),P={class:"card"},j=Y((()=>(0,t._)("div",{class:"icon"},[(0,t._)("i",{class:"fi fi-rr-trophy-star"})],-1))),J={class:"title-info"},K=Y((()=>(0,t._)("h2",null,"Total de estrelas",-1))),N={class:"card"},Q=Y((()=>(0,t._)("div",{class:"icon"},[(0,t._)("i",{class:"fi fi-rr-usd-square"})],-1))),U={class:"title-info"},X=Y((()=>(0,t._)("h2",null,"Total em comissão",-1))),aa={class:"card"},sa=Y((()=>(0,t._)("div",{class:"icon"},[(0,t._)("i",{class:"fi fi-rr-ban"})],-1))),ea={class:"title-info"},ta=Y((()=>(0,t._)("h2",null,"Total de cancelamentos",-1)));function la(a,s,e,d,i,n){return(0,t.wg)(),(0,t.iD)("div",Z,[(0,t._)("div",$,[q,(0,t._)("div",H,[(0,t._)("h3",null,(0,l.zw)(e.data.sales.count),1),O])]),(0,t._)("div",P,[j,(0,t._)("div",J,[(0,t._)("h3",null,(0,l.zw)(e.data.stars.totalStars),1),K])]),(0,t._)("div",N,[Q,(0,t._)("div",U,[(0,t._)("h3",null,"R$"+(0,l.zw)(e.data.commission.liquid),1),X])]),(0,t._)("div",aa,[sa,(0,t._)("div",ea,[(0,t._)("h3",null,(0,l.zw)(e.data.cancel.count),1),ta])])])}var da={name:"GraphCards",props:["data"],methods:{getLineSales:function(){const a=document.getElementById("lineSales").getContext("2d");var s=a.createLinearGradient(0,0,0,30);s.addColorStop(0,"rgb(52,140,212,0)"),s.addColorStop(1,"rgba(9,41,65,0.0)");const e={labels:[1,2,3,4,5,6,7],datasets:[{data:[10,5,8,3,9,1],borderWidth:2,pointRadius:1,backgroundColor:s,fill:!0,label:"Vendas"}]},t=new A.kL(a,{type:"line",data:e,options:{scales:{y:{display:!1},x:{display:!1,grid:{display:!1},border:{display:!1},ticks:{color:"rgba(89, 91, 106, 0.48)"}}},plugins:{legend:{display:!1}},elements:{line:{tension:.5,borderColor:"rgb(52,140,212)"}}}});return t},getLineStars:function(){const a=document.getElementById("lineStars").getContext("2d");var s=a.createLinearGradient(0,0,0,30);s.addColorStop(0,"rgb(238,202,21,0)"),s.addColorStop(1,"rgba(86,73,8,0.0)");const e={labels:[1,2,3,4,5,6,7],datasets:[{data:[3,1,5,1,10,3],borderWidth:2,pointRadius:1,backgroundColor:s,fill:!0,label:"Estrelas"}]},t=new A.kL(a,{type:"line",data:e,options:{scales:{y:{display:!1},x:{display:!1,grid:{display:!1},border:{display:!1},ticks:{color:"rgba(89, 91, 106, 0.48)"}}},plugins:{legend:{display:!1}},elements:{line:{tension:.4,borderColor:"rgb(238,202,21)"}}}});return t},getLineCommission:function(){const a=document.getElementById("lineCommission").getContext("2d");var s=a.createLinearGradient(0,0,0,30);s.addColorStop(0,"rgb(18,161,25,0)"),s.addColorStop(1,"rgba(10,79,13,0.0)");const e={labels:[1,2,3,4,5,6,7],datasets:[{data:[3,7,2,10,6,15],borderWidth:2,pointRadius:1,backgroundColor:s,fill:!0,label:"Comissão"}]},t=new A.kL(a,{type:"line",data:e,options:{scales:{y:{display:!1},x:{display:!1,grid:{display:!1},border:{display:!1},ticks:{color:"rgba(89, 91, 106, 0.48)"}}},plugins:{legend:{display:!1}},elements:{line:{tension:.5,borderColor:"rgb(18,161,25)"}}}});return t},getLineCancels:function(){const a=document.getElementById("lineCancels").getContext("2d");var s=a.createLinearGradient(0,0,0,30);s.addColorStop(0,"rgba(206,5,5,0)"),s.addColorStop(1,"rgba(56,3,3,0)");const e={labels:[1,2,3,4,5,6,7],datasets:[{data:[10,3,2,1,7,1],borderWidth:2,pointRadius:1,backgroundColor:s,fill:!0,label:"Cancelamentos"}]},t=new A.kL(a,{type:"line",data:e,options:{scales:{y:{display:!1},x:{display:!1,grid:{display:!1},border:{display:!1},ticks:{color:"rgba(89, 91, 106, 0.48)"}}},plugins:{legend:{display:!1}},elements:{line:{tension:.5,borderColor:"rgb(206,5,5)"}}}});return t}},mounted(){}};const ia=(0,M.Z)(da,[["render",la],["__scopeId","data-v-09b5d5cd"]]);var na=ia,oa=e(8089),ra=e(680),ca={name:"DashboardSales",components:{GraphSales:V,GraphCards:na},data(){return{filters:{dataType:"month",pending:!1,month:null,year:null},data:{},status:!1}},methods:{...(0,x.OI)(["SAVE_SYSTEM"]),getData:function(a){this.filters.dataType=a,this.filters.pending=!0,setTimeout((()=>{this.filters.pending=!1}),5e3)},getSellers:function(){(0,oa.m)({method:"GET",url:"agerv/analytics/payment",headers:{Authorization:"Bearer "+ra.Z.get("token")},params:{dashboard:!0,year:"2023",month:this.filters.month}}).then((a=>{this.data=a.data,this.SAVE_SYSTEM({loading:!1}),this.status=!0}))},getMonth:function(){const a=new Date;a.getMonth()<10?this.filters.month="0"+a.getMonth():this.filters.month=(a.getMonth()+1).toString(),this.getSellers()}},computed:{...(0,x.Se)(["system"])},mounted(){this.getMonth()}};const pa=(0,M.Z)(ca,[["render",L],["__scopeId","data-v-02bbdf76"]]);var ua=pa}}]);
//# sourceMappingURL=482.6e582372.js.map