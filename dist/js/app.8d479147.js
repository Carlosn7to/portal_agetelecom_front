(function(){"use strict";var e={6286:function(e,t,n){var o=n(9242),a=n(3396);function r(e,t){const n=(0,a.up)("router-view");return(0,a.wg)(),(0,a.j4)(n)}var i=n(89);const s={},d=(0,i.Z)(s,[["render",r]]);var c=d,l=n(5431);(0,l.z)("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});var u=n(2483),m=n(7139);const p=e=>((0,a.dD)("data-v-51cd5d98"),e=e(),(0,a.Cn)(),e),h={id:"welcome"},g=["src"],f=p((()=>(0,a._)("h1",null,"Portal Age Telecom",-1))),v=p((()=>(0,a._)("p",null,[(0,a.Uk)(" Acesse os principais sistemas internos, "),(0,a._)("br"),(0,a.Uk)(" ferramentas, relatórios, dashboards e mais! ")],-1))),b={id:"content-login"},y={key:0,id:"card-login"},_=p((()=>(0,a._)("h1",null," Bem-vindo(a) ;) ",-1))),w=p((()=>(0,a._)("p",null,"Acesse com seu usuário Age Telecom",-1))),E={id:"msg"},k={key:0,class:"trigger"},A={class:"inputs"},S=p((()=>(0,a._)("i",{class:"fi fi-sr-user"},null,-1))),P={class:"inputs"},C=p((()=>(0,a._)("i",{class:"fi fi-sr-lock"},null,-1))),D={key:0},M={key:1,class:"loader"},N={key:1,id:"card-login"},R=(0,a.uE)('<h1 data-v-51cd5d98> Cadastre-se </h1><p data-v-51cd5d98>Utilize seus dados Age telecom</p><form action="#" data-v-51cd5d98><div class="inputs" data-v-51cd5d98><i class="fi fi-sr-envelope" data-v-51cd5d98></i><input type="email" name="email" id="email" autocomplete="off" placeholder="E-mail" required data-v-51cd5d98><span data-v-51cd5d98> @agetelecom.com.br </span></div><div class="inputs" data-v-51cd5d98><i class="fi fi-sr-user" data-v-51cd5d98></i><input type="text" name="email" id="email" autocomplete="off" placeholder="Nome de usuário" required data-v-51cd5d98></div><div class="inputs" data-v-51cd5d98><i class="fi fi-sr-lock" data-v-51cd5d98></i><input type="password" name="password" id="password" autocomplete="off" placeholder="Senha" required data-v-51cd5d98></div><button data-v-51cd5d98><span data-v-51cd5d98> Cadastrar </span></button></form>',3),q=[R],I={key:0,class:"loading-bar"};function O(e,t,r,i,s,d){const c=(0,a.up)("LoginMobile");return(0,a.wg)(),(0,a.iD)(a.HY,null,[e.isMobile?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",{key:0,id:"container-login",class:(0,m.C_)({"mode-l":"light"===s.mode||void 0===s.mode,"mode-d":"dark"===s.mode})},[(0,a._)("div",h,[(0,a._)("img",{src:n(4642),alt:""},null,8,g),f,v,"discontinued"===s.page?((0,a.wg)(),(0,a.iD)("button",{key:0,onClick:t[0]||(t[0]=e=>s.page="discontinued")}," Cadastre-se ")):(0,a.kq)("",!0),"register"===s.page?((0,a.wg)(),(0,a.iD)("button",{key:1,onClick:t[1]||(t[1]=e=>s.page="login")}," Conecte-se ")):(0,a.kq)("",!0)]),(0,a._)("div",b,["login"===s.page?((0,a.wg)(),(0,a.iD)("div",y,[_,w,(0,a._)("form",{action:"#",onSubmit:t[5]||(t[5]=(0,o.iM)((()=>{}),["prevent"])),class:(0,m.C_)({trigger:!0===s.error})},[(0,a._)("div",E,[null!==s.msg?((0,a.wg)(),(0,a.iD)("span",k,(0,m.zw)(s.msg),1)):(0,a.kq)("",!0)]),(0,a._)("div",A,[S,(0,a.wy)((0,a._)("input",{type:"text",name:"username",id:"username",autocomplete:"off",placeholder:"Usuário",required:"","onUpdate:modelValue":t[2]||(t[2]=e=>s.inputs.username=e)},null,512),[[o.nr,s.inputs.username]])]),(0,a._)("div",P,[C,(0,a.wy)((0,a._)("input",{type:"password",name:"password",id:"password",autocomplete:"off",placeholder:"Senha",required:"","onUpdate:modelValue":t[3]||(t[3]=e=>s.inputs.password=e)},null,512),[[o.nr,s.inputs.password]])]),(0,a._)("button",{onClick:t[4]||(t[4]=(...e)=>d.authenticate&&d.authenticate(...e))},[!1===s.loading?((0,a.wg)(),(0,a.iD)("span",D," Entrar ")):(0,a.kq)("",!0),!0===s.loading?((0,a.wg)(),(0,a.iD)("span",M)):(0,a.kq)("",!0)])],34)])):(0,a.kq)("",!0),"register"===s.page?((0,a.wg)(),(0,a.iD)("div",N,q)):(0,a.kq)("",!0)]),!0===s.loading?((0,a.wg)(),(0,a.iD)("div",I)):(0,a.kq)("",!0)],2)),e.isMobile?((0,a.wg)(),(0,a.j4)(c,{key:1,onAuthenticateMb:d.authenticate,msg:s.msg,loading:s.loading},null,8,["onAuthenticateMb","msg","loading"])):(0,a.kq)("",!0)],64)}var V=n(680),T=n(8089),B=n(65);const j=e=>((0,a.dD)("data-v-0b328988"),e=e(),(0,a.Cn)(),e),U={id:"content-login"},x=j((()=>(0,a._)("h1",null,"Portal",-1))),Z=["src"],z={key:0,class:"msg-alert"},H={key:0,type:"submit",value:"Entrar"},L={key:1,class:"loader"},F={key:0,class:"loading"};function G(e,t,r,i,s,d){return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",U,[x,(0,a._)("img",{src:n(3445),alt:""},null,8,Z),r.msg?((0,a.wg)(),(0,a.iD)("span",z,(0,m.zw)(r.msg),1)):(0,a.kq)("",!0),(0,a._)("form",{action:"#",onSubmit:t[2]||(t[2]=(0,o.iM)(((...e)=>d.authenticate&&d.authenticate(...e)),["prevent"]))},[(0,a.wy)((0,a._)("input",{type:"text",name:"username",id:"username",placeholder:"E-mail","onUpdate:modelValue":t[0]||(t[0]=e=>s.username=e),required:""},null,512),[[o.nr,s.username]]),(0,a.wy)((0,a._)("input",{type:"password",name:"password",id:"password",placeholder:"Senha","onUpdate:modelValue":t[1]||(t[1]=e=>s.password=e),required:""},null,512),[[o.nr,s.password]]),!1===r.loading?((0,a.wg)(),(0,a.iD)("input",H)):(0,a.kq)("",!0),!0===r.loading?((0,a.wg)(),(0,a.iD)("span",L)):(0,a.kq)("",!0)],32)]),!0===r.loading?((0,a.wg)(),(0,a.iD)("div",F)):(0,a.kq)("",!0)],64)}var Y={name:"LoginMobile",props:{msg:{type:String},loading:{type:Boolean}},data(){return{username:"",password:""}},methods:{authenticate:function(){this.$emit("authenticate-mb",{payload:{username:this.username,password:this.password}})},newAccount:function(){alert("solicitou")}}};const $=(0,i.Z)(Y,[["render",G],["__scopeId","data-v-0b328988"]]);var K=$,J={name:"LoginPage",components:{LoginMobile:K},data(){return{mode:V.Z.get("mode"),page:"login",loading:!1,inputs:{username:null,password:null},functions:{authenticate:!1},msg:null,error:!1}},methods:{...(0,B.OI)(["CHANGE_DEVICE","SAVE_FIRSTNAME"]),...(0,B.nv)(["verifyDevice"]),authenticate:function(e){this.isMobile&&(this.loading=!0,this.inputs.username=e.payload.username,this.inputs.password=e.payload.password),null!==this.inputs.username&&null!==this.inputs.password&&!1===this.functions.authenticate&&(this.loading=!0,this.functions.authenticate=!0,(0,T.m)({method:"POST",url:"auth/login_ad",headers:{"Content-Type":"application/json",Access:"application/json"},data:{email:this.inputs.username,password:this.inputs.password}}).then((e=>{this.msg=null,this.error=!1,this.functions.authenticate=!1,this.SAVE_FIRSTNAME(e.data.name),V.Z.set("token",e.data.access_token,{expires:1}),this.$router.replace("/sistemas")})).catch((e=>{401===e.response.status?(this.loading=!1,this.error=!0,this.functions.authenticate=!1,this.msg="Usuário ou senha incorretos!"):(this.loading=!1,this.error=!0,this.functions.authenticate=!1,this.msg=e.response.status)})))}},created(){this.verifyDevice()},computed:{...(0,B.Se)(["isMobile"])},mounted(){}};const Q=(0,i.Z)(J,[["render",O],["__scopeId","data-v-51cd5d98"]]);var W=Q,X=n(2415),ee=(0,B.MT)({strict:!0,state:{isMobile:!1,permission:{system:null,level:null,function:null},user:{firstName:""},menu:{system:"agecontrol",selected:"dash",stage:"increase"},system:{mode:"light"}},getters:{isMobile:e=>e.isMobile,user:e=>e.user,permissions:e=>e.permission,menu:e=>e.menu,system:e=>e.system},mutations:{CHANGE_DEVICE(e,t){return e.isMobile=t},SAVE_FIRSTNAME(e,t){return e.user.firstName=t},SAVE_PERMISSION(e,t){return[e.permission.system=t.permission.system,e.permission.level=t.permission.level,e.permission.function=t.permission.function]},SAVE_MENU(e,t){return[e.menu.system=void 0!==t.system?t.system:e.menu.system,e.menu.selected=void 0!==t.selected?t.selected:e.menu.selected,e.menu.stage=void 0!==t.stage?t.stage:e.menu.stage]},SAVE_SYSTEM(e,t){return[e.system.mode=void 0!==t.mode?t.mode:e.system.mode]}},actions:{verifyDevice:function(e){screen.width<=760?e.commit("CHANGE_DEVICE",!0):e.commit("CHANGE_DEVICE",!1)}},modules:{},plugins:[(0,X.Z)()]}),te={auth(e,t,n){const o=V.Z.get("token");(0,T.m)({method:"get",url:"validatedToken",headers:{Authorization:"Bearer "+o}}).then((e=>{if(!0===e.data.status)return sessionStorage.setItem("portal_permission",e.data.levelAccess),n()})).catch((()=>n({path:"/"})))},management_portal(e,t,n){const o=sessionStorage.getItem("portal_permission");return"Admin"===o||"Master"===o?n():n({path:"/sistemas"})},permission_report(e,t,n){const o=V.Z.get("token");(0,T.m)({method:"get",url:"agereport/Access",headers:{Authorization:"Bearer"+o}}).then((e=>(ee.commit("SAVE_PERMISSION",{permission:{system:"ageReport",level:e.data.levelAccess,function:e.data.function}}),n()))).catch((()=>(alert("Você não pode acessar o sistema AgeReport."),n({path:"/sistemas"}))))},permission_rv(e,t,n){const o=V.Z.get("token");(0,T.m)({method:"get",url:"agerv/Access",headers:{Authorization:"Bearer"+o}}).then((e=>(ee.commit("SAVE_PERMISSION",{permission:{system:"ageRv",level:e.data.levelAccess,function:e.data.function}}),n()))).catch((()=>(alert("Você não pode acessar o sistema AgeRv."),n({path:"/sistemas"}))))},permission_board(e,t,n){const o=V.Z.get("token");(0,T.m)({method:"get",url:"ageboard/Access",headers:{Authorization:"Bearer"+o}}).then((e=>(ee.commit("SAVE_PERMISSION",{permission:{system:"ageBoard",level:e.data.levelAccess,function:e.data.function}}),n()))).catch((()=>(alert("Você não pode acessar o sistema AgeBoard."),n({path:"/sistemas"}))))},permission_control(e,t,n){const o=V.Z.get("token");(0,T.m)({method:"get",url:"agecontrol/Access",headers:{Authorization:"Bearer"+o}}).then((e=>(ee.commit("SAVE_PERMISSION",{permission:{system:"ageBoard",level:e.data.levelAccess,function:e.data.function}}),n()))).catch((()=>(alert("Você não pode acessar o sistema AgeControl."),n({path:"/sistemas"}))))}};const ne=[{path:"/",name:"login",component:W},{path:"/test",name:"test",component:()=>n.e(850).then(n.bind(n,9850))},{path:"/sistemas",name:"SystemApp",component:()=>Promise.all([n.e(95),n.e(231)]).then(n.bind(n,7758)),beforeEnter:[te.auth]},{path:"/gerenciamento/dashboard",name:"PanelDashboard",component:()=>Promise.all([n.e(95),n.e(860)]).then(n.bind(n,2167)),beforeEnter:[te.auth,te.management_portal]},{path:"/gerenciamento/usuarios",name:"PanelUsers",component:()=>Promise.all([n.e(95),n.e(301)]).then(n.bind(n,4172)),beforeEnter:[te.auth,te.management_portal]},{path:"/gerenciamento/usuarios/novo",name:"NewUser",component:()=>Promise.all([n.e(95),n.e(59)]).then(n.bind(n,8861)),beforeEnter:[te.auth,te.management_portal]},{path:"/ageReport/home",name:"ReportPage",component:()=>Promise.all([n.e(95),n.e(842)]).then(n.bind(n,1867)),beforeEnter:[te.auth,te.permission_report]},{path:"/ageReport/gerenciamento",name:"DashboardPageReport",component:()=>Promise.all([n.e(95),n.e(734)]).then(n.bind(n,7279)),beforeEnter:[te.auth,te.permission_report]},{path:"/ageRv/comercial/analitico",name:"SalesAnalytics",component:()=>Promise.all([n.e(95),n.e(234)]).then(n.bind(n,5311)),beforeEnter:[te.auth,te.permission_rv]},{path:"/ageRv/comercial/comissao",name:"SalesCommission",component:()=>Promise.all([n.e(95),n.e(818)]).then(n.bind(n,7365)),beforeEnter:[te.auth,te.permission_rv]},{path:"/ageRv/comercial/supervisor-comissao",name:"SalesSupCommission",component:()=>Promise.all([n.e(95),n.e(557)]).then(n.bind(n,9391)),beforeEnter:[te.auth,te.permission_rv]},{path:"/ageRv/comercial/vendas/dashboard",name:"SalesPage",component:()=>Promise.all([n.e(95),n.e(81)]).then(n.bind(n,58)),beforeEnter:[te.auth,te.permission_rv]},{path:"/ageRv/home",name:"HomePageRv",component:()=>Promise.all([n.e(95),n.e(454)]).then(n.bind(n,8425)),beforeEnter:[te.auth,te.permission_rv]},{path:"/ageRv/comercial/gerenciamento",name:"DashboardPage",component:()=>Promise.all([n.e(95),n.e(305)]).then(n.bind(n,2314)),beforeEnter:[te.auth,te.permission_rv]},{path:"/ageRv/comercial/simulador",name:"SimulatorPage",component:()=>Promise.all([n.e(95),n.e(871)]).then(n.bind(n,4277)),beforeEnter:[te.auth,te.permission_rv]},{path:"/ageBoard/home",name:"HomePage",component:()=>Promise.all([n.e(95),n.e(663)]).then(n.bind(n,4393)),beforeEnter:[te.auth,te.permission_board]},{path:"/ageBoard/gerenciamento/dashboards",name:"DashboardManagement",component:()=>Promise.all([n.e(95),n.e(80)]).then(n.bind(n,3458)),beforeEnter:[te.auth,te.permission_board]},{path:"/ageControle/home",name:"HomePageControl",component:()=>n.e(9).then(n.bind(n,9)),beforeEnter:[te.auth,te.permission_control]},{path:"/ageControle/gerenciamento/dashboard",name:"DashboardControl",component:()=>Promise.all([n.e(95),n.e(419)]).then(n.bind(n,7547)),beforeEnter:[te.auth,te.permission_control]}],oe=(0,u.p7)({history:(0,u.PO)(),routes:ne});var ae=oe;(0,o.ri)(c).use(ee).use(ae).mount("#app")},8089:function(e,t,n){n.d(t,{m:function(){return i}});var o=n(6265),a=n.n(o),r=n(680);const i=a().create({baseURL:"https://v1.ageportal.agetelecom.com.br/api/",headers:{Authorization:"Bearer "+r.Z.get("token")}})},4642:function(e,t,n){e.exports=n.p+"img/age_orange.57916d66.png"},3445:function(e,t,n){e.exports=n.p+"img/logo_orange.d9b0681f.png"}},t={};function n(o){var a=t[o];if(void 0!==a)return a.exports;var r=t[o]={id:o,loaded:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}n.m=e,function(){var e=[];n.O=function(t,o,a,r){if(!o){var i=1/0;for(l=0;l<e.length;l++){o=e[l][0],a=e[l][1],r=e[l][2];for(var s=!0,d=0;d<o.length;d++)(!1&r||i>=r)&&Object.keys(n.O).every((function(e){return n.O[e](o[d])}))?o.splice(d--,1):(s=!1,r<i&&(i=r));if(s){e.splice(l--,1);var c=a();void 0!==c&&(t=c)}}return t}r=r||0;for(var l=e.length;l>0&&e[l-1][2]>r;l--)e[l]=e[l-1];e[l]=[o,a,r]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,o){return n.f[o](e,t),t}),[]))}}(),function(){n.u=function(e){return"js/"+e+"."+{9:"c9e996f3",59:"d425db26",80:"f0f346f4",81:"af25d60f",95:"6b03363d",231:"a1b6e479",234:"76edd3f3",301:"2bcc7982",305:"d0d8772c",419:"aadca18d",454:"5e66e00e",557:"05fba343",663:"faf9b6fc",734:"bdc49b7b",818:"a53f4b07",842:"3c441ed0",850:"b743ee68",860:"9f579631",871:"20d12d7d"}[e]+".js"}}(),function(){n.miniCssF=function(e){return"css/"+e+"."+{9:"68298b0f",59:"45f302b7",80:"ae7971ff",81:"12efac69",231:"d1c5e6d4",234:"97917610",301:"ae2bcc7c",305:"f743909c",419:"e338447b",454:"ad8e4611",557:"961dea63",663:"f5b42ea3",734:"3f432aab",818:"a04e1c0e",842:"a3a0d741",850:"ff191a92",860:"d783414a",871:"3dce52df"}[e]+".css"}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="ageportal:";n.l=function(o,a,r,i){if(e[o])e[o].push(a);else{var s,d;if(void 0!==r)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var u=c[l];if(u.getAttribute("src")==o||u.getAttribute("data-webpack")==t+r){s=u;break}}s||(d=!0,s=document.createElement("script"),s.charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+r),s.src=o),e[o]=[a];var m=function(t,n){s.onerror=s.onload=null,clearTimeout(p);var a=e[o];if(delete e[o],s.parentNode&&s.parentNode.removeChild(s),a&&a.forEach((function(e){return e(n)})),t)return t(n)},p=setTimeout(m.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=m.bind(null,s.onerror),s.onload=m.bind(null,s.onload),d&&document.head.appendChild(s)}}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){n.p="/"}(),function(){if("undefined"!==typeof document){var e=function(e,t,n,o,a){var r=document.createElement("link");r.rel="stylesheet",r.type="text/css";var i=function(n){if(r.onerror=r.onload=null,"load"===n.type)o();else{var i=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.href||t,d=new Error("Loading CSS chunk "+e+" failed.\n("+s+")");d.code="CSS_CHUNK_LOAD_FAILED",d.type=i,d.request=s,r.parentNode.removeChild(r),a(d)}};return r.onerror=r.onload=i,r.href=t,n?n.parentNode.insertBefore(r,n.nextSibling):document.head.appendChild(r),r},t=function(e,t){for(var n=document.getElementsByTagName("link"),o=0;o<n.length;o++){var a=n[o],r=a.getAttribute("data-href")||a.getAttribute("href");if("stylesheet"===a.rel&&(r===e||r===t))return a}var i=document.getElementsByTagName("style");for(o=0;o<i.length;o++){a=i[o],r=a.getAttribute("data-href");if(r===e||r===t)return a}},o=function(o){return new Promise((function(a,r){var i=n.miniCssF(o),s=n.p+i;if(t(i,s))return a();e(o,s,null,a,r)}))},a={143:0};n.f.miniCss=function(e,t){var n={9:1,59:1,80:1,81:1,231:1,234:1,301:1,305:1,419:1,454:1,557:1,663:1,734:1,818:1,842:1,850:1,860:1,871:1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=o(e).then((function(){a[e]=0}),(function(t){throw delete a[e],t})))}}}(),function(){var e={143:0};n.f.j=function(t,o){var a=n.o(e,t)?e[t]:void 0;if(0!==a)if(a)o.push(a[2]);else{var r=new Promise((function(n,o){a=e[t]=[n,o]}));o.push(a[2]=r);var i=n.p+n.u(t),s=new Error,d=function(o){if(n.o(e,t)&&(a=e[t],0!==a&&(e[t]=void 0),a)){var r=o&&("load"===o.type?"missing":o.type),i=o&&o.target&&o.target.src;s.message="Loading chunk "+t+" failed.\n("+r+": "+i+")",s.name="ChunkLoadError",s.type=r,s.request=i,a[1](s)}};n.l(i,d,"chunk-"+t,t)}},n.O.j=function(t){return 0===e[t]};var t=function(t,o){var a,r,i=o[0],s=o[1],d=o[2],c=0;if(i.some((function(t){return 0!==e[t]}))){for(a in s)n.o(s,a)&&(n.m[a]=s[a]);if(d)var l=d(n)}for(t&&t(o);c<i.length;c++)r=i[c],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(l)},o=self["webpackChunkageportal"]=self["webpackChunkageportal"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(6286)}));o=n.O(o)})();
//# sourceMappingURL=app.8d479147.js.map