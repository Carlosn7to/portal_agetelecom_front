"use strict";(self["webpackChunkageportal"]=self["webpackChunkageportal"]||[]).push([[633],{9633:function(a,s,t){t.r(s),t.d(s,{default:function(){return Ts}});var e=t(3396),i=t(7139);const l={class:"title"},d={key:0,class:"options"},n={key:0,class:"items"},o={key:0,class:"grid animation-up"},c=(0,e.uE)('<div class="section-actions"><h2>Central de ações</h2><div class="card-actions"><div class="actions"><span>Operacional</span><div class="items"><button> Auditar </button><button> Contestações </button></div></div><div class="actions"><span>Downloads</span><div class="items"><button> Relatório Resumo </button><button> Relatório Completo </button></div></div><div class="actions"><span>Informações</span><div class="items"><button> Regras aplicadas </button><button> Planos e estrelas </button></div></div></div></div>',1);function r(a,s,t,r,v,m){const u=(0,e.up)("InformationGeneral"),_=(0,e.up)("DashboardGeneral"),p=(0,e.up)("ViewSales");return(0,e.wg)(),(0,e.iD)(e.HY,null,[(0,e._)("div",l,[(0,e._)("span",null,(0,i.zw)(v.title)+" "+(0,i.zw)(v.monthName),1),"view-general"===v.page?((0,e.wg)(),(0,e.iD)("div",d,[(0,e._)("i",{class:"fi fi-rr-caret-down",onClick:s[0]||(s[0]=a=>v.filters.display=!v.filters.display)}),v.filters.display?((0,e.wg)(),(0,e.iD)("div",n,[(0,e._)("ul",null,[(0,e._)("li",{onClick:s[1]||(s[1]=a=>[v.dateFiltered.month="01",m.getAnalytic(),v.filters.display=!1,this.monthName="Janeiro"])},"Janeiro/2023"),(0,e._)("li",{onClick:s[2]||(s[2]=a=>[v.dateFiltered.month="02",m.getAnalytic(),v.filters.display=!1,this.monthName="Fevereiro"])},"Fevereiro/2023")])])):(0,e.kq)("",!0)])):(0,e.kq)("",!0)]),"view-general"===v.page?((0,e.wg)(),(0,e.iD)("div",o,[(0,e.Wm)(u,{onViewSales:m.viewPage,data:v.dataInfo.channels},null,8,["onViewSales","data"]),(0,e.Wm)(_,{data:v.dashboards},null,8,["data"]),c])):(0,e.kq)("",!0),"view-sales"===v.page?((0,e.wg)(),(0,e.j4)(p,{key:1,onReturnPage:m.viewPage,data:v.data},null,8,["onReturnPage","data"])):(0,e.kq)("",!0)],64)}const v=a=>((0,e.dD)("data-v-495a0fca"),a=a(),(0,e.Cn)(),a),m={class:"section-dashboard"},u=v((()=>(0,e._)("h2",null,"Dashboard geral",-1))),_={class:"cards-dashboard"},p={class:"card"},h=v((()=>(0,e._)("div",{class:"title"},[(0,e._)("div",null,[(0,e._)("i",{class:"fi fi-rr-usd-square"})]),(0,e._)("h3",null," Comissão total ")],-1))),f={class:"values"},w={class:"card"},g=v((()=>(0,e._)("div",{class:"title"},[(0,e._)("div",null,[(0,e._)("i",{class:"fi fi-rr-document-signed"})]),(0,e._)("h3",null," Vendas válidas ")],-1))),C={class:"values"},b={class:"card"},k=v((()=>(0,e._)("div",{class:"title"},[(0,e._)("div",null,[(0,e._)("i",{class:"fi fi-rr-rocket-lunch"})]),(0,e._)("h3",null," Comissionados ")],-1))),y={class:"values"},D={class:"card"},S=v((()=>(0,e._)("div",{class:"title"},[(0,e._)("div",null,[(0,e._)("i",{class:"fi fi-rr-delete-user"})]),(0,e._)("h3",null," Não comissionados ")],-1))),z={class:"values"};function F(a,s,t,l,d,n){return(0,e.wg)(),(0,e.iD)("div",m,[u,(0,e._)("div",_,[(0,e._)("div",p,[h,(0,e._)("div",f,[(0,e._)("span",null," R$ "+(0,i.zw)(t.data.commissionTotal),1)])]),(0,e._)("div",w,[g,(0,e._)("div",C,[(0,e._)("span",null,(0,i.zw)(t.data.salesTotal),1)])]),(0,e._)("div",b,[k,(0,e._)("div",y,[(0,e._)("span",null,(0,i.zw)(t.data.commissionedsTotal),1)])]),(0,e._)("div",D,[S,(0,e._)("div",z,[(0,e._)("span",null,(0,i.zw)(t.data.noCommissionedsTotal),1)])])])])}var V={name:"DashboardGeneral",props:["data"]},T=t(89);const E=(0,T.Z)(V,[["render",F],["__scopeId","data-v-495a0fca"]]);var M=E;const P=a=>((0,e.dD)("data-v-1ef89723"),a=a(),(0,e.Cn)(),a),I={class:"section"},A=P((()=>(0,e._)("h2",null,"Informações gerais",-1))),R={class:"table-list"},$=(0,e.uE)('<div class="header" data-v-1ef89723><div class="data-item" data-v-1ef89723><span data-v-1ef89723> Canal </span></div><div class="data-item" data-v-1ef89723><span data-v-1ef89723> Vendas </span></div><div class="data-item" data-v-1ef89723><span data-v-1ef89723> Comissão </span></div><div class="data-item" data-v-1ef89723><span data-v-1ef89723> Comissionados </span></div><div class="data-item" data-v-1ef89723><span data-v-1ef89723> Não comissionados </span></div></div>',1),q={class:"body"},N=["onClick"],Y={class:"data-item"},x={class:"data-item"},G={class:"data-item"},U={class:"data-item"},Z={class:"data-item"};function H(a,s,t,l,d,n){return(0,e.wg)(),(0,e.iD)("div",I,[A,(0,e._)("div",R,[$,(0,e._)("div",q,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(t.data,((a,s)=>((0,e.wg)(),(0,e.iD)("div",{class:"row-item",key:s,onClick:s=>n.viewSales(a.collaborators,a.name)},[(0,e._)("div",Y,(0,i.zw)(a.name),1),(0,e._)("div",x,(0,i.zw)(a.infoTotal.salesTotal),1),(0,e._)("div",G," R$ "+(0,i.zw)(a.infoTotal.commissionTotal),1),(0,e._)("div",U,(0,i.zw)(a.infoTotal.commissionedTotal),1),(0,e._)("div",Z,(0,i.zw)(a.infoTotal.noCommissionedTotal),1)],8,N)))),128))])])])}var L={name:"InformationGeneral",props:["data"],methods:{viewSales:function(a,s){this.$emit("view-sales",{data:a,page:"view-sales",title:`Painel de comissão do Canal ${s.toUpperCase()} - `})}}};const O=(0,T.Z)(L,[["render",H],["__scopeId","data-v-1ef89723"]]);var B=O,j=t(9242);const J=a=>((0,e.dD)("data-v-66a668f8"),a=a(),(0,e.Cn)(),a),K={key:0,class:"grid animation-up"},W={class:"section-actions"},Q=J((()=>(0,e._)("h2",null,"Central de ações",-1))),X={class:"card-actions"},aa={class:"actions"},sa=J((()=>(0,e._)("span",null,"Filtros",-1))),ta={class:"items"},ea={class:"actions"},ia=J((()=>(0,e._)("span",null,"Ações",-1))),la={class:"items"},da={class:"table-list"},na=(0,e.uE)('<div class="header" data-v-66a668f8><div class="data-item" data-v-66a668f8><span data-v-66a668f8> Colaborador </span></div><div class="data-item" data-v-66a668f8><span data-v-66a668f8> Vendas </span></div><div class="data-item" data-v-66a668f8><span data-v-66a668f8> Meta </span></div><div class="data-item" data-v-66a668f8><span data-v-66a668f8> Meta atingida </span></div><div class="data-item" data-v-66a668f8><span data-v-66a668f8> Canceladas </span></div><div class="data-item" data-v-66a668f8><span data-v-66a668f8> Estrelas </span></div><div class="data-item" data-v-66a668f8><span data-v-66a668f8> Valor da estrela </span></div><div class="data-item" data-v-66a668f8><span data-v-66a668f8> Mediador </span></div><div class="data-item" data-v-66a668f8><span data-v-66a668f8> Comissão </span></div></div>',1),oa={key:0,class:"body"},ca=["onClick"],ra={class:"data-item"},va={class:"data-item"},ma={class:"data-item"},ua={class:"data-item"},_a={class:"data-item"},pa={class:"data-item"};function ha(a,s,t,l,d,n){const o=(0,e.up)("ViewSeller");return(0,e.wg)(),(0,e.iD)(e.HY,null,["view-sellers"===d.page?((0,e.wg)(),(0,e.iD)("div",K,[(0,e._)("div",W,[Q,(0,e._)("div",X,[(0,e._)("div",aa,[sa,(0,e._)("div",ta,[(0,e._)("button",{onClick:s[0]||(s[0]=a=>[n.dataFilter(0),d.filters.selected="all"]),class:(0,i.C_)({selected:"all"===d.filters.selected})},"Todos",2),(0,e._)("button",{onClick:s[1]||(s[1]=a=>[n.dataFilter(1),d.filters.selected="commissionable"]),class:(0,i.C_)({selected:"commissionable"===d.filters.selected})},"Comissionados",2),(0,e._)("button",{onClick:s[2]||(s[2]=a=>[n.dataFilter(2),d.filters.selected="noCommissionable"]),class:(0,i.C_)({selected:"noCommissionable"===d.filters.selected})},"Não comissionados",2)])]),(0,e._)("div",ea,[ia,(0,e._)("div",la,[(0,e._)("button",{onClick:s[3]||(s[3]=(...a)=>n.returnPage&&n.returnPage(...a))}," Voltar ")])])])]),(0,e._)("div",da,[(0,e.wy)((0,e._)("input",{type:"text","onUpdate:modelValue":s[4]||(s[4]=a=>d.search=a),placeholder:"Buscar colaborador..."},null,512),[[j.nr,d.search]]),na,d.statusData?((0,e.wg)(),(0,e.iD)("div",oa,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(n.CollaboratorsFiltered,((a,s)=>((0,e.wg)(),(0,e.iD)("div",{class:"row-item animation-up",style:(0,i.j5)("animation-delay: "+.1*s+"s"),key:a.id,onClick:s=>n.viewSeller(a)},[(0,e._)("div",ra,(0,i.zw)(a.name),1),(0,e._)("div",va,(0,i.zw)(a.sales.count),1),(0,e._)("div",ma,(0,i.zw)(a.meta),1),(0,e._)("div",ua,(0,i.zw)(a.metaPercent)+"% ",1),(0,e._)("div",{class:(0,i.C_)(["data-item",{"highlight red":"0,00"!==a.commission&&a.cancel.count>0}])},(0,i.zw)(a.cancel.count),3),(0,e._)("div",_a,(0,i.zw)(a.stars),1),(0,e._)("div",pa," R$ "+(0,i.zw)(a.valueStar),1),(0,e._)("div",{class:(0,i.C_)(["data-item",{"highlight green":"0,00"!==a.commission&&a.mediator>0,"highlight dark-red":"0,00"!==a.commission&&a.mediator<0}])},(0,i.zw)(a.mediator)+"% ",3),(0,e._)("div",{class:(0,i.C_)(["data-item",{"highlight green":"0,00"!==a.commission}])}," R$"+(0,i.zw)(a.commission),3)],12,ca)))),128))])):(0,e.kq)("",!0)])])):(0,e.kq)("",!0),"view-seller"===d.page?((0,e.wg)(),(0,e.j4)(o,{key:1,data:d.dataSeller,onReturnSellers:s[5]||(s[5]=a=>d.page="view-sellers")},null,8,["data"])):(0,e.kq)("",!0)],64)}const fa=a=>((0,e.dD)("data-v-447cdc34"),a=a(),(0,e.Cn)(),a),wa={class:"grid animation-up"},ga={class:"section-actions"},Ca=fa((()=>(0,e._)("h2",null,"Central de ações",-1))),ba={class:"card-actions"},ka={class:"actions"},ya=fa((()=>(0,e._)("span",null,"Filtros",-1))),Da={class:"items"},Sa={class:"actions"},za=fa((()=>(0,e._)("span",null,"Downloads",-1))),Fa={class:"items"},Va={class:"actions"},Ta=fa((()=>(0,e._)("span",null,"Ações",-1))),Ea={class:"items"},Ma={class:"table-list"},Pa=(0,e.uE)('<div class="header" data-v-447cdc34><div class="data-item" data-v-447cdc34><span data-v-447cdc34> Nome do cliente </span></div><div class="data-item" data-v-447cdc34><span data-v-447cdc34> Nº do contrato </span></div><div class="data-item" data-v-447cdc34><span data-v-447cdc34> Status </span></div><div class="data-item" data-v-447cdc34><span data-v-447cdc34> Situação </span></div><div class="data-item" data-v-447cdc34><span data-v-447cdc34> Data da vigência </span></div><div class="data-item" data-v-447cdc34><span data-v-447cdc34> Data do cancelamento </span></div><div class="data-item" data-v-447cdc34><span data-v-447cdc34> Plano </span></div></div>',1),Ia={key:0,class:"body"},Aa={class:"data-item"},Ra={class:"data-item"},$a={class:"data-item"},qa={class:"data-item"},Na={class:"data-item"},Ya={class:"data-item"},xa={class:"data-item"},Ga={id:"printscreen",style:{display:"none"}},Ua={class:"cards-dashboard"},Za={class:"card"},Ha=fa((()=>(0,e._)("div",{class:"title"},[(0,e._)("div",null,[(0,e._)("i",{class:"fi fi-rr-rocket-lunch"})]),(0,e._)("h3",null," Vendas ")],-1))),La={class:"values"},Oa={class:"card"},Ba=fa((()=>(0,e._)("div",{class:"title"},[(0,e._)("div",null,[(0,e._)("i",{class:"fi fi-rr-chart-histogram"})]),(0,e._)("h3",null," Meta ")],-1))),ja={class:"values"},Ja={class:"card"},Ka=fa((()=>(0,e._)("div",{class:"title"},[(0,e._)("div",null,[(0,e._)("i",{class:"fi fi-rr-arrow-trend-up"})]),(0,e._)("h3",null," Meta atingida ")],-1))),Wa={class:"values"},Qa={class:"card"},Xa=fa((()=>(0,e._)("div",{class:"title"},[(0,e._)("div",null,[(0,e._)("i",{class:"fi fi-rr-delete-document"})]),(0,e._)("h3",null," Cancelamentos ")],-1))),as={class:"values"},ss={class:"card"},ts=fa((()=>(0,e._)("div",{class:"title"},[(0,e._)("div",null,[(0,e._)("i",{class:"fi fi-rr-star"})]),(0,e._)("h3",null," Estrelas ")],-1))),es={class:"values"},is={class:"card"},ls=fa((()=>(0,e._)("div",{class:"title"},[(0,e._)("div",null,[(0,e._)("i",{class:"fi fi-rr-usd-circle"})]),(0,e._)("h3",null," Valor da estrela ")],-1))),ds={class:"values"},ns={class:"card"},os={class:"title"},cs={key:0,class:"fi fi-rr-arrow-alt-up"},rs={key:1,class:"fi fi-rr-arrow-alt-down"},vs={class:"values"},ms={class:"card"},us=fa((()=>(0,e._)("div",{class:"title"},[(0,e._)("div",null,[(0,e._)("i",{class:"fi fi-rr-usd-square"})]),(0,e._)("h3",null," Comissão ")],-1))),_s={class:"values"};function ps(a,s,t,l,d,n){return(0,e.wg)(),(0,e.iD)("div",wa,[(0,e._)("div",ga,[Ca,(0,e._)("div",ba,[(0,e._)("div",ka,[ya,(0,e._)("div",Da,[(0,e._)("button",{onClick:s[0]||(s[0]=a=>[n.dataFilter(0),d.filters.selected="all"]),class:(0,i.C_)({selected:"all"===d.filters.selected})},"Todos",2),(0,e._)("button",{onClick:s[1]||(s[1]=a=>[n.dataFilter(1),d.filters.selected="commissionable"]),class:(0,i.C_)({selected:"commissionable"===d.filters.selected})},"Válidas",2),(0,e._)("button",{onClick:s[2]||(s[2]=a=>[n.dataFilter(2),d.filters.selected="noCommissionable"]),class:(0,i.C_)({selected:"noCommissionable"===d.filters.selected})},"Canceladas",2)])]),(0,e._)("div",Sa,[za,(0,e._)("div",Fa,[(0,e._)("button",{onClick:s[3]||(s[3]=a=>n.downloadPrintScreen(t.data.name))}," Comprovante de tela ")])]),(0,e._)("div",Va,[Ta,(0,e._)("div",Ea,[(0,e._)("button",{onClick:s[4]||(s[4]=(...a)=>n.returnSellers&&n.returnSellers(...a))}," Voltar ")])])])]),(0,e._)("div",Ma,[(0,e.wy)((0,e._)("input",{type:"text","onUpdate:modelValue":s[5]||(s[5]=a=>d.search=a),placeholder:"Buscar colaborador..."},null,512),[[j.nr,d.search]]),Pa,d.statusData?((0,e.wg)(),(0,e.iD)("div",Ia,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(n.SalesFiltered,((a,s)=>((0,e.wg)(),(0,e.iD)("div",{class:"row-item animation-up",key:s},[(0,e._)("div",Aa,(0,i.zw)(a.nome_cliente),1),(0,e._)("div",Ra,(0,i.zw)(a.id_contrato),1),(0,e._)("div",$a,(0,i.zw)(a.status),1),(0,e._)("div",qa,(0,i.zw)(a.situacao),1),(0,e._)("div",Na,(0,i.zw)(a.data_vigencia),1),(0,e._)("div",Ya,(0,i.zw)(a.data_cancelamento),1),(0,e._)("div",xa,(0,i.zw)(a.plano),1)])))),128))])):(0,e.kq)("",!0)]),(0,e._)("div",Ga,[(0,e._)("h1",null,[(0,e.Uk)("Comprovante de comissão - "),(0,e._)("b",null,(0,i.zw)(t.data.name.toUpperCase()),1)]),(0,e._)("div",Ua,[(0,e._)("div",Za,[Ha,(0,e._)("div",La,[(0,e._)("span",null,(0,i.zw)(t.data.sales.count),1)])]),(0,e._)("div",Oa,[Ba,(0,e._)("div",ja,[(0,e._)("span",null,(0,i.zw)(t.data.meta),1)])]),(0,e._)("div",Ja,[Ka,(0,e._)("div",Wa,[(0,e._)("span",null,(0,i.zw)(t.data.metaPercent)+"% ",1)])]),(0,e._)("div",Qa,[Xa,(0,e._)("div",as,[(0,e._)("span",null,(0,i.zw)(t.data.cancel.count),1)])]),(0,e._)("div",ss,[ts,(0,e._)("div",es,[(0,e._)("span",null,(0,i.zw)(t.data.stars),1)])]),(0,e._)("div",is,[ls,(0,e._)("div",ds,[(0,e._)("span",null," R$ "+(0,i.zw)(t.data.valueStar),1)])]),(0,e._)("div",ns,[(0,e._)("div",os,[(0,e._)("div",null,[t.data.mediator>0?((0,e.wg)(),(0,e.iD)("i",cs)):((0,e.wg)(),(0,e.iD)("i",rs))]),(0,e._)("h3",null,(0,i.zw)(t.data.mediator>0?"Acelerador":"Deflator"),1)]),(0,e._)("div",vs,[(0,e._)("span",null,(0,i.zw)(t.data.mediator)+"% ",1)])]),(0,e._)("div",ms,[us,(0,e._)("div",_s,[(0,e._)("span",null," R$ "+(0,i.zw)(t.data.commission),1)])])])])])}var hs=t(2269),fs=t.n(hs),ws=t(65),gs={name:"ViewSeller",props:["data"],data(){return{filters:{selected:"all"},search:"",dataFiltered:{},statusData:!1}},computed:{SalesFiltered:function(){let a=[];return a=this.dataFiltered.filter((a=>a.nome_cliente.toLowerCase().indexOf(this.search.toLowerCase())>-1)),a=a.sort(((a,s)=>a.nome_cliente<s.nome_cliente?-1:a.nome_cliente>s.nome_cliente?1:0)),a}},methods:{...(0,ws.OI)(["SAVE_SYSTEM"]),returnSellers:function(){this.$emit("return-sellers")},dataFilter:function(a){this.dataFiltered=this.data.sales.extract,this.statusData=!1,0===a?this.dataFiltered=this.data.sales.extract:1===a?this.dataFiltered=this.data.sales.extract.filter((a=>"Cancelado"!==a.situacao)):2===a&&(this.dataFiltered=this.data.sales.extract.filter((a=>"Cancelado"===a.situacao))),this.statusData=!0},downloadPrintScreen:function(a){const s=document.getElementById("printscreen");s.style.display="block",fs()(s).then((s=>{const t=s.toDataURL("image/png"),e=document.createElement("a");e.href=t,e.download=`${a}.png`,e.dispatchEvent(new MouseEvent("click"))})),s.style.display="none"}},mounted(){this.dataFilter(0)}};const Cs=(0,T.Z)(gs,[["render",ps],["__scopeId","data-v-447cdc34"]]);var bs=Cs,ks={name:"ViewSales",components:{ViewSeller:bs},props:["data"],data(){return{filters:{selected:"all"},search:"",dataFiltered:this.data,statusData:!0,dataSeller:{},page:"view-sellers"}},methods:{returnPage:function(){this.$emit("return-page")},dataFilter:function(a){this.dataFiltered=this.data,this.statusData=!1,0===a?this.dataFiltered=this.data:1===a?this.dataFiltered=this.data.filter((a=>!0===a.isCommissionable)):2===a&&(this.dataFiltered=this.data.filter((a=>!1===a.isCommissionable))),this.statusData=!0},viewSeller:function(a){this.dataSeller=a,this.page="view-seller"}},computed:{CollaboratorsFiltered:function(){let a=[];return a=this.dataFiltered.filter((a=>a.name.toLowerCase().indexOf(this.search.toLowerCase())>-1)),a=a.sort(((a,s)=>a.isCommissionable&&!s.isCommissionable?-1:!a.isCommissionable&&s.isCommissionable?1:a.name<s.name?-1:a.name>s.name?1:0)),a}},beforeMount(){}};const ys=(0,T.Z)(ks,[["render",ha],["__scopeId","data-v-66a668f8"]]);var Ds=ys,Ss=t(8089),zs=t(680),Fs={name:"AuditCommission",components:{DashboardGeneral:M,InformationGeneral:B,ViewSales:Ds},emits:["view-sales"],data(){return{page:"view-general",monthName:"Janeiro",title:"Painel de comissões - ",data:{},dataInfo:{},dashboards:{},filters:{display:!1},dateFiltered:{month:null,year:2023}}},methods:{...(0,ws.OI)(["SAVE_SYSTEM"]),viewPage:function(a=null){null!==a?(this.page=a.page,this.data=a.data,this.title=a.title):(this.page="view-general",this.title="Painel de comissões - ")},getAnalytic:function(){this.dataInfo={},this.SAVE_SYSTEM({loading:!0}),(0,Ss.m)({method:"GET",url:"agerv/analytics/payment",headers:{Authorization:"Bearer "+zs.Z.get("token")},params:{month:this.dateFiltered.month,year:2023}}).then((a=>{this.dataInfo=a.data,this.dashboards=a.data.infoTotal,this.SAVE_SYSTEM({loading:!1})})).catch((()=>{}))},getMonth:function(){const a=new Date;return a.getMonth()<10?this.dateFiltered.month="0"+(a.getMonth()-1):this.dateFiltered.month=(a.getMonth()+1).toString(),this.dateFiltered.month}},beforeMount(){this.getMonth(),this.getAnalytic()}};const Vs=(0,T.Z)(Fs,[["render",r]]);var Ts=Vs}}]);
//# sourceMappingURL=633.ccc8ecee.js.map