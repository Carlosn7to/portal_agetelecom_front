{"version":3,"file":"js/259.4a38da20.js","mappings":"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","sources":["webpack://ageportal/./src/components/ageReport/EditReport.vue","webpack://ageportal/./src/components/ageReport/EditReport.vue?6fd2","webpack://ageportal/./src/views/intranet/ageReport/app/management/ReportReportsManagement.vue","webpack://ageportal/./src/views/intranet/ageReport/app/management/ReportReportsManagement.vue?172c"],"sourcesContent":["<template>\r\n  <div class=\"edit-report\">\r\n    <h1>Relatório - {{ data.name }}</h1>\r\n    <button @click=\"returnPage\">Voltar</button>\r\n    <div class=\"content-edit\">\r\n      <form action=\"\">\r\n        <div class=\"inputs-text\">\r\n          <label for=\"name\">Nome: </label>\r\n          <input autocomplete=\"off\" type=\"text\" name=\"name\" id=\"name\" v-model=\"data.name\" required>\r\n        </div>\r\n        <div class=\"inputs-text\">\r\n          <label for=\"name-archive\">Nome do arquivo: </label>\r\n          <input autocomplete=\"off\" type=\"text\" name=\"name-archive\" id=\"name-archive\" v-model=\"data.namearchive\" required>\r\n        </div>\r\n        <div class=\"inputs-text\">\r\n          <label for=\"query\">Query do relatório: </label>\r\n          <textarea autocomplete=\"off\" v-model=\"data.query\" name=\"query\" required>\r\n\r\n          </textarea>\r\n        </div>\r\n        <div class=\"inputs-text\">\r\n          <label for=\"database\">Banco de dados disponíveis: </label>\r\n          <select name=\"database\" id=\"database\" required v-model=\"data.database\">\r\n            <option value=\"\" :selected=\"data.database !== ''\" disabled>--- Nenhuma opção selecionada ---</option>\r\n            <option value=\"pgsql\" :selected=\"data.database === 'pgsql'\">Voalle</option>\r\n            <option value=\"mysql_take\" :selected=\"data.database === 'mysql_take'\">TakeBlip</option>\r\n            <option value=\"mysql\" :selected=\"data.database === 'mysql'\">Portal</option>\r\n          </select>\r\n        </div>\r\n        <div class=\"inputs-text\">\r\n          <label for=\"period\">Tipo de filtro</label>\r\n          <select name=\"period\" id=\"period\" required v-model=\"data.type\">\r\n            <option value=\"0\" :selected=\"data.isPeriod === 0 || data.isPeriodHour === 0\">--- Nenhum filtro ---</option>\r\n            <option value=\"1\" :selected=\"data.isPeriod === 1\" >Data</option>\r\n            <option value=\"2\" :selected=\"data.isPeriodHour === 1\">Data e hora</option>\r\n          </select>\r\n        </div>\r\n        <div class=\"inputs-text\">\r\n          <label for=\"headers\">Colunas do arquivo: </label>\r\n          <input autocomplete=\"off\" type=\"text\" name=\"headers\" id=\"headers\" v-model=\"data.headers\" required placeholder=\"separar com ;\">\r\n        </div>\r\n        <input type=\"submit\" value=\"Alterar\" v-if=\"this.id !== 0\" @click.prevent=\"editReport\">\r\n        <input type=\"submit\" value=\"Cadastrar\" v-else @click.prevent=\"newReport\">\r\n      </form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport {AXIOS} from \"../../../services/api.ts\";\r\nimport Cookie from \"js-cookie\";\r\n\r\nexport default {\r\n  name: \"EditReport\",\r\n  props: {\r\n    id: {\r\n      type: Number,\r\n      required: true\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      data: {\r\n        name: '',\r\n        namearchive: '',\r\n        query: '',\r\n        database: '',\r\n        isPeriod: 0,\r\n        isPeriodHour: 0,\r\n        isCompetence: 0,\r\n        headers: '',\r\n        type: 0\r\n      },\r\n      msg: '',\r\n    }\r\n  },\r\n  methods: {\r\n    getReport: function () {\r\n      if(this.id !== 0) {\r\n        AXIOS({\r\n          method: 'GET',\r\n          url: 'agereport/reports/'+this.id,\r\n          headers: {\r\n            'Authorization': 'Bearer'+Cookie.get('token')\r\n          }\r\n        }).then((res) => {\r\n          this.data.name = res.data.data.nome\r\n          this.data.namearchive = res.data.data.nome_arquivo\r\n          this.data.query = res.data.data.query\r\n          this.data.database = res.data.data.banco_solicitado\r\n          this.data.isPeriod = res.data.data.isPeriodo\r\n          this.data.isPeriodHour = res.data.data.isPeriodoHora\r\n          this.data.headers = res.data.data.cabecalhos\r\n\r\n        })\r\n      }\r\n    },\r\n    editReport: function () {\r\n      AXIOS({\r\n        method: 'GET',\r\n        url: `agereport/reports/${this.id}/edit`,\r\n        params: this.data\r\n      }).then((res) => {\r\n        this.nameReport = res.data.data.nome\r\n        this.data.name = res.data.data.nome\r\n        this.data.namearchive = res.data.data.nome_arquivo\r\n        this.data.query = res.data.data.query\r\n        this.data.database = res.data.data.banco_solicitado\r\n        this.data.isPeriod = res.data.data.isPeriodo\r\n        this.data.isPeriodHour = res.data.data.isPeriodoHora\r\n        this.data.headers = res.data.data.cabecalhos\r\n\r\n        this.$emit('msg', {\r\n          status: 'sucess',\r\n          msg: res.data.msg\r\n        })\r\n      })\r\n    },\r\n    newReport: function () {\r\n      AXIOS({\r\n        method: 'POST',\r\n        url: 'agereport/reports',\r\n        headers: {\r\n          'Authorization': 'Bearer '+Cookie.get('token')\r\n        },\r\n        data: {\r\n          name: this.data.name,\r\n          namearchive: this.data.namearchive,\r\n          query: this.data.query,\r\n          database: this.data.database,\r\n          isPeriod: this.data.isPeriod,\r\n          isPeriodHour: this.data.isPeriodHour,\r\n          headers: this.data.headers\r\n        }\r\n      }).then((res) => {\r\n        alert(res.data.msg)\r\n      })\r\n    },\r\n    returnPage: function () {\r\n      this.$emit('close-page')\r\n    }\r\n  },\r\n  mounted() {\r\n    this.getReport()\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n\r\n.edit-report {\r\n  padding: 1vh 1vw;\r\n\r\n  button {\r\n    margin: 2vh 0 0 0;\r\n    @include btn-dashboard();\r\n    background-color: $primary;\r\n    color: #ffffff;\r\n  }\r\n\r\n  .content-edit {\r\n    form {\r\n      padding: 4vh 0;\r\n      @include flex(column, flex-start, initia, 3vh);\r\n\r\n      .inputs-text {\r\n        @include flex(column, flex-start, initial, 5px);\r\n\r\n        input[type=text] {\r\n          @include inp-form-text;\r\n          width: 50%;\r\n          background-color: #fff;\r\n        }\r\n\r\n        textarea {\r\n          @include inp-form-text;\r\n          width: 50%;\r\n          height: 30vh;\r\n        }\r\n\r\n        select {\r\n          @include inp-form-text;\r\n          width: 50%;\r\n        }\r\n      }\r\n\r\n      input[type=submit] {\r\n        width: 50%;\r\n        padding: 15px 10px;\r\n        @include btn-dashboard();\r\n        background-color: $primary;\r\n        color: #ffffff;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n</style>","import { render } from \"./EditReport.vue?vue&type=template&id=224676c8&scoped=true\"\nimport script from \"./EditReport.vue?vue&type=script&lang=js\"\nexport * from \"./EditReport.vue?vue&type=script&lang=js\"\n\nimport \"./EditReport.vue?vue&type=style&index=0&id=224676c8&scoped=true&lang=scss\"\n\nimport exportComponent from \"C:\\\\Users\\\\carlos.neto\\\\Documents\\\\Desenvolvimento\\\\Em progresso\\\\portal\\\\portal_agetelecom_front\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-224676c8\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"management\" v-if=\"page === 'Relatórios'\">\r\n    <h1>Gerenciamentos - Relatórios</h1>\r\n    <div class=\"container-mng\">\r\n      <div class=\"content-reports animation-down\" v-if=\"page === 'Relatórios'\">\r\n        <div class=\"filters\">\r\n          <input type=\"text\" id=\"searchReport\" name=\"searchReport\" placeholder=\"Buscar relatório...\" autocomplete=\"off\"\r\n                 v-model=\"searchReport\">\r\n          <button @click=\"editReport(0, '')\">Novo relatório</button>\r\n\r\n        </div>\r\n        <div id=\"reports\" class=\"animation-down\" v-if=\"status === true\">\r\n          <div class=\"report\"\r\n               v-for=\"(report, key) in ReportsFiltered\"\r\n               :key=\"key\"\r\n               @click=\"editReport(report.id, report.nome)\">\r\n            <i class=\"fi fi-rr-document-signed\"></i>\r\n            <span>{{ report.nome }}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <EditReport\r\n      v-if=\"page === 'editReport'\"\r\n      :id=\"id\"\r\n      :name=\"report\"\r\n      @msg=\"editMsg\"\r\n      @close-page=\"closePage('reports')\"\r\n  />\r\n</template>\r\n\r\n<script>\r\n\r\nimport Cookie from \"js-cookie\";\r\nimport {AXIOS} from \"../../../../../../services/api.ts\";\r\nimport EditReport from \"@/components/ageReport/EditReport\";\r\n\r\nexport default {\r\n  name: \"ReportReportsManagement\",\r\n  components: {\r\n    EditReport,\r\n  },\r\n  data () {\r\n    return {\r\n      mode: Cookie.get('mode'),\r\n      page: 'Relatórios',\r\n      search: '',\r\n      data: null,\r\n      status: false,\r\n      dataReport: null,\r\n      searchReport: '',\r\n      loading: true,\r\n      id: 0,\r\n      report: '',\r\n      modal: '',\r\n      dataEdit: {\r\n        name: '',\r\n        id: 0,\r\n        access: false\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    modeView: function (mode) {\r\n      this.mode = mode\r\n    },\r\n    getUsers: function () {\r\n      this.status = false\r\n\r\n      AXIOS({\r\n        method: 'GET',\r\n        url: 'admin/access-systems',\r\n        params: {\r\n          system: 'agereport'\r\n        },\r\n        headers: {\r\n          'Authorization': 'Bearer'+Cookie.get('token')\r\n        }\r\n      }).then((res) => {\r\n        this.data = res.data\r\n        this.status = true\r\n        this.loading = false\r\n      }).catch((error) => {\r\n        console.log(error)\r\n      })\r\n    },\r\n    getReports: function () {\r\n      this.status = false\r\n\r\n      AXIOS({\r\n        method: 'GET',\r\n        url: 'agereport/report/reports',\r\n        headers: {\r\n          'Authorization': 'Bearer'+Cookie.get('token')\r\n        }\r\n      }).then((res) => {\r\n        this.dataReport = res.data\r\n        this.status = true\r\n        this.loading = false\r\n      })\r\n    },\r\n    editReport: function (id, report) {\r\n      this.page = 'editReport'\r\n      this.id = id\r\n      this.report = report\r\n    },\r\n    editMsg: function (data) {\r\n      alert(data.msg)\r\n    },\r\n    closePage: function (type) {\r\n      if(type === 'reports') {\r\n        this.page = 'Relatórios'\r\n        this.id = 0\r\n        this.report = ''\r\n      }\r\n\r\n      if(type === 'users') {\r\n        this.modal = ''\r\n      }\r\n    },\r\n    editAccess: function (id, name, access) {\r\n      this.dataEdit.id = id\r\n      this.dataEdit.name = name\r\n      this.dataEdit.access = access\r\n      this.modal = 'editAccess'\r\n    }\r\n  },\r\n  computed: {\r\n    UsersFiltered: function () {\r\n      let values = []\r\n      values = this.data.filter((value) => {\r\n        return (\r\n            value.name.toLowerCase().indexOf(this.search.toLowerCase()) > -1\r\n        )\r\n      })\r\n      return values\r\n    },\r\n    ReportsFiltered: function () {\r\n      let values = []\r\n      values = this.dataReport.filter((value) => {\r\n        return (\r\n            value.nome.toLowerCase().indexOf(this.searchReport.toLowerCase()) > -1\r\n        )\r\n      })\r\n      return values\r\n    }\r\n  },\r\n  mounted() {\r\n    this.getUsers()\r\n    this.getReports()\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n\r\n.management {\r\n  padding: 1vh 1vw;\r\n  overflow-y: hidden;\r\n  max-height: 90%;\r\n  width: 100%;\r\n  animation: up ease-in-out forwards .4s;\r\n  .container-mng {\r\n    @include flex(row, space-between, intial, 0);\r\n    width: 100%;\r\n\r\n    .content-reports {\r\n      width: 100%;\r\n\r\n      #reports {\r\n        @include container(100%, initial, 4vh 0vw, transparent);\r\n        @include flex(row, flex-start, initial, 20px);\r\n        flex-wrap: wrap;\r\n        overflow-y: auto;\r\n        max-height: 60vh;\r\n        padding: 2vh 2px;\r\n\r\n\r\n        .report {\r\n          @include container(initial, initial, 1vh 1vw, #fff);\r\n          width: calc((100% / 3) - 20px);\r\n          min-height: 5vh;\r\n          border-radius: 5px;\r\n          @include sh-h;\r\n          @include tr-p;\r\n          @include flex(row, flex-start, center, 5px);\r\n          word-break: break-all;\r\n          border: 2px solid #fff;\r\n\r\n          i {\r\n            font-size: 2.4rem;\r\n            color: $primary;\r\n          }\r\n\r\n          span {\r\n            font-size: 1.4rem;\r\n            text-align: center;\r\n            font-weight: 600;\r\n            color: $h1-light;\r\n          }\r\n        }\r\n\r\n      }\r\n\r\n    }\r\n\r\n    .filters {\r\n      padding: 3vh 0;\r\n      @include flex(row, flex-start, center, 0);\r\n      input[type=text] {\r\n        width: 25%;\r\n        padding: 10px 8px;\r\n        border-radius: 5px;\r\n        outline: none;\r\n        border: none;\r\n        box-shadow: rgba(60, 64, 67, 0.3) 0px 1px 2px 0px, rgba(60, 64, 67, 0.15) 0px 1px 3px 1px;\r\n\r\n        &:focus {\r\n          box-shadow: rgba(60, 64, 67, 0.3) 0px 1px 2px 0px, rgba(60, 64, 67, 0.15) 0px 1px 3px 1px;      }\r\n      }\r\n\r\n      button {\r\n        @include btn-dashboard();\r\n        margin-left: 1vw;\r\n        background-color: $primary;\r\n        color: #fff;\r\n      }\r\n    }\r\n\r\n\r\n\r\n  }\r\n}\r\n\r\n.loading-bar {\r\n  @include bar;\r\n}\r\n.mode-l-p {\r\n  background-color: $ml-back-l;\r\n  @include tr;\r\n}\r\n\r\n.mode-dark{\r\n\r\n  .management {\r\n\r\n    .container-mng {\r\n\r\n      .content-users {\r\n\r\n        .filters {\r\n\r\n          input[type=text] {\r\n            background-color: $dark-mode-card;\r\n            border: 2px solid $primary;\r\n            color: $h1-white;\r\n          }\r\n\r\n\r\n        }\r\n\r\n        .list {\r\n\r\n          .list-header {\r\n            border-bottom: 2px solid $primary;\r\n\r\n            .item-list-header {\r\n              color: $h1-white;\r\n            }\r\n          }\r\n\r\n          .items-list-body {\r\n\r\n            .list-body {\r\n              background-color: $dark-mode-card;\r\n\r\n              .item-list-body {\r\n                color: $h1-white;\r\n\r\n              }\r\n\r\n              border: 2px solid $dark-mode-card;\r\n\r\n              &:hover {\r\n                border-color: $primary;\r\n              }\r\n            }\r\n          }\r\n\r\n        }\r\n\r\n      }\r\n\r\n    }\r\n  }\r\n\r\n}\r\n\r\n</style>","import { render } from \"./ReportReportsManagement.vue?vue&type=template&id=e2eaa36c&scoped=true\"\nimport script from \"./ReportReportsManagement.vue?vue&type=script&lang=js\"\nexport * from \"./ReportReportsManagement.vue?vue&type=script&lang=js\"\n\nimport \"./ReportReportsManagement.vue?vue&type=style&index=0&id=e2eaa36c&scoped=true&lang=scss\"\n\nimport exportComponent from \"C:\\\\Users\\\\carlos.neto\\\\Documents\\\\Desenvolvimento\\\\Em progresso\\\\portal\\\\portal_agetelecom_front\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-e2eaa36c\"]])\n\nexport default __exports__"],"names":["class","action","_createElementVNode","for","_createElementBlock","_hoisted_1","$data","name","onClick","$options","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","autocomplete","type","id","required","_hoisted_6","_hoisted_7","namearchive","_hoisted_8","_hoisted_9","query","_hoisted_10","_hoisted_11","database","value","selected","disabled","_hoisted_16","_hoisted_17","isPeriod","isPeriodHour","_hoisted_21","_hoisted_22","headers","placeholder","props","Number","data","isCompetence","msg","methods","getReport","this","AXIOS","method","url","Cookie","then","res","nome","nome_arquivo","banco_solicitado","isPeriodo","isPeriodoHora","cabecalhos","editReport","params","nameReport","$emit","status","newReport","alert","returnPage","mounted","__exports__","render","_Fragment","report","key","_createBlock","_component_EditReport","onMsg","onClosePage","components","EditReport","mode","page","search","dataReport","searchReport","loading","modal","dataEdit","access","modeView","getUsers","system","catch","error","console","log","getReports","editMsg","closePage","editAccess","computed","UsersFiltered","values","filter","toLowerCase","indexOf","ReportsFiltered"],"sourceRoot":""}