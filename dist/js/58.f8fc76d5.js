"use strict";(self["webpackChunkageportal"]=self["webpackChunkageportal"]||[]).push([[58],{5058:function(t,a,e){e.r(a),e.d(a,{default:function(){return Pt}});var s=e(3396),n=e(9242),i=e(7139);const l=t=>((0,s.dD)("data-v-67b84676"),t=t(),(0,s.Cn)(),t),o={class:"search-container"},r={class:"search"},c=l((()=>(0,s._)("i",{class:"fi fi-rr-search"},null,-1))),d={class:"cards-container"},u={class:"card"},h=l((()=>(0,s._)("div",{class:"title"},[(0,s._)("i",{class:"fi fi-rr-user"}),(0,s._)("span",null," Dados do Cliente ")],-1))),p={class:"table"},m={class:"data-item"},_={class:"item"},v=l((()=>(0,s._)("span",null,"Nome",-1))),k={class:"item"},f=l((()=>(0,s._)("span",null,"CPF / CNPJ",-1))),g={class:"item"},b=l((()=>(0,s._)("span",null,"E-mail",-1))),w={class:"data-items"},E={class:"item"},y=l((()=>(0,s._)("span",null,"Telefone Principal",-1))),z={class:"item"},M=l((()=>(0,s._)("span",null,"Telefone Secundário",-1))),A={class:"data-item"},C={class:"item"},U=l((()=>(0,s._)("span",null,"Endereço",-1))),S=l((()=>(0,s._)("br",null,null,-1))),O=l((()=>(0,s._)("div",{class:"title"},[(0,s._)("i",{class:"fi fi-rr-menu-burger"}),(0,s._)("span",null," Histórico do Cliente ")],-1))),P={class:"card"},R=l((()=>(0,s._)("div",{class:"title"},[(0,s._)("i",{class:"fi fi-rr-user"}),(0,s._)("span",null," Dados do Contrato ")],-1))),T={class:"table"},N={class:"data-item"},D={class:"item"},V=l((()=>(0,s._)("span",null,"Nº do contrato",-1))),x={class:"item"},I=l((()=>(0,s._)("span",null,"Status",-1))),L={class:"item"},W=l((()=>(0,s._)("span",null,"Estagio",-1))),F={class:"item"},J=l((()=>(0,s._)("span",null,"Inclusão do contrato",-1))),Z={class:"item"},j=l((()=>(0,s._)("span",null,"Desbloqueios realizados",-1))),q={class:"item"},B=l((()=>(0,s._)("span",null,"Contrato bloqueado",-1))),H={class:"item"},$=l((()=>(0,s._)("span",null,"Reduzido",-1))),Y={class:"item"},K=l((()=>(0,s._)("span",null,"Informações sobre o plano",-1))),Q={class:"card"},X=l((()=>(0,s._)("div",{class:"title"},[(0,s._)("i",{class:"fi fi-rr-broadcast-tower"}),(0,s._)("span",null," Dados da Conexão ")],-1))),G={class:"table"},tt={class:"data-item"},at={class:"item"},et=l((()=>(0,s._)("span",null,"Serial do cliente",-1))),st={class:"item"},nt=l((()=>(0,s._)("span",null,"Ponto de acesso",-1))),it={class:"item"},lt=l((()=>(0,s._)("span",null,"Dados da rede Wi-Fi",-1))),ot={class:"item"},rt=l((()=>(0,s._)("span",null,"Extrato de conexão",-1))),ct=(0,s.uE)('<div class="card" data-v-67b84676><div class="title" data-v-67b84676><i class="fi fi-rr-search-dollar" data-v-67b84676></i><span data-v-67b84676> Dados Financeiros </span></div><div class="table" data-v-67b84676><div class="data-item" data-v-67b84676><div class="item" data-v-67b84676><span data-v-67b84676>Nº de faturas em aberto</span><span data-v-67b84676>-</span></div><div class="item" data-v-67b84676><span data-v-67b84676>Valor total em aberto</span><span data-v-67b84676>-</span></div></div></div></div>',1);function dt(t,a,e,l,dt,ut){const ht=(0,s.Q2)("maska");return(0,s.wg)(),(0,s.iD)("div",o,[(0,s._)("div",r,[c,(0,s.wy)((0,s._)("input",{type:"text",name:"search",id:"search","onUpdate:modelValue":a[0]||(a[0]=t=>dt.search=t),placeholder:"Insira o CPF/CNPJ do cliente",autocomplete:"off",onKeyup:a[1]||(a[1]=(0,n.D2)(((...t)=>ut.getClient&&ut.getClient(...t)),["enter"]))},null,544),[[n.nr,dt.search],[ht,void 0,dt.options]])]),(0,s._)("div",d,[(0,s._)("div",u,[h,(0,s._)("div",p,[(0,s._)("div",m,[(0,s._)("div",_,[v,(0,s._)("span",null,(0,i.zw)(this.data.client.name?this.data.client.name:" - "),1)]),(0,s._)("div",k,[f,(0,s._)("span",null,(0,i.zw)(this.data.client.tx_id?this.data.client.tx_id:" - "),1)]),(0,s._)("div",g,[b,(0,s._)("span",null,(0,i.zw)(this.data.client.email?this.data.client.email:" - "),1)])]),(0,s._)("div",w,[(0,s._)("div",E,[y,(0,s._)("span",null,(0,i.zw)(this.data.client.cell_phone_1?this.data.client.cell_phone_1:" - "),1)]),(0,s._)("div",z,[M,(0,s._)("span",null,(0,i.zw)(this.data.client.cell_phone_2?this.data.client.cell_phone_2:" - "),1)])]),(0,s._)("div",A,[(0,s._)("div",C,[U,(0,s._)("span",null,(0,i.zw)(this.data.client.full_address?this.data.client.full_address:" - "),1)])])]),S,O]),(0,s._)("div",P,[R,(0,s._)("div",T,[(0,s._)("div",N,[(0,s._)("div",D,[V,(0,s._)("span",null,(0,i.zw)(this.data.contract.id?this.data.contract.id:" - "),1)]),(0,s._)("div",x,[I,(0,s._)("span",null,(0,i.zw)(this.data.contract.status?this.data.contract.status:" - "),1)]),(0,s._)("div",L,[W,(0,s._)("span",null,(0,i.zw)(this.data.contract.stage?this.data.contract.stage:" - "),1)]),(0,s._)("div",F,[J,(0,s._)("span",null,(0,i.zw)(this.data.contract.date_incluse?this.data.contract.date_incluse:" - "),1)]),(0,s._)("div",Z,[j,(0,s._)("span",null,(0,i.zw)(this.data.contract.unblock?"03/02/2022":" - "),1)]),(0,s._)("div",q,[B,(0,s._)("span",null,(0,i.zw)(this.data.contract.blocked?"Não - Último em 08/10/2022":" - "),1)]),(0,s._)("div",H,[$,(0,s._)("span",null,(0,i.zw)(this.data.contract.reduction?"Não":" - "),1)]),(0,s._)("div",Y,[K,(0,s._)("ul",null,[(0,s._)("li",null,[(0,s.Uk)("Plano: "),(0,s._)("b",null,(0,i.zw)(this.data.contract.plan?this.data.contract.plan:" - "),1)]),(0,s._)("li",null,[(0,s.Uk)("IP FIXO: "),(0,s._)("b",null,(0,i.zw)(this.data.contract.ip_fix?this.data.contract.ip_fix:" - "),1)]),(0,s._)("li",null,[(0,s.Uk)("Data da aprovação: "),(0,s._)("b",null,(0,i.zw)(this.data.contract.date_approval?this.data.contract.date_approval:" - "),1)])])])])])]),(0,s._)("div",Q,[X,(0,s._)("div",G,[(0,s._)("div",tt,[(0,s._)("div",at,[et,(0,s._)("span",null,(0,i.zw)(this.data.connection.serial?this.data.connection.serial:" - "),1)]),(0,s._)("div",st,[nt,(0,s._)("ul",null,[(0,s._)("li",null,[(0,s.Uk)("POP: "),(0,s._)("b",null,(0,i.zw)(this.data.connection.pop_olt?this.data.connection.pop_olt:" - "),1)]),(0,s._)("li",null,[(0,s.Uk)("OLT: "),(0,s._)("b",null,(0,i.zw)(this.data.connection.olt?this.data.connection.olt:" - "),1)]),(0,s._)("li",null,[(0,s.Uk)("Slot OLT: "),(0,s._)("b",null,(0,i.zw)(this.data.connection.slot_olt?this.data.connection.slot_olt:" - "),1)]),(0,s._)("li",null,[(0,s.Uk)("Porta OLT: "),(0,s._)("b",null,(0,i.zw)(this.data.connection.port_olt?this.data.connection.port_olt:" - "),1)]),(0,s._)("li",null,[(0,s.Uk)("ID ONU: "),(0,s._)("b",null,(0,i.zw)(this.data.connection.serial?this.data.connection.serial:" - "),1)])])]),(0,s._)("div",it,[lt,(0,s._)("ul",null,[(0,s._)("li",null,[(0,s.Uk)("Usuário: "),(0,s._)("b",null,(0,i.zw)(this.data.connection.wifi_name?this.data.connection.wifi_name:" - "),1)]),(0,s._)("li",null,[(0,s.Uk)("Senha: "),(0,s._)("b",null,(0,i.zw)(this.data.connection.wifi_password?this.data.connection.wifi_password:" - "),1)])])]),(0,s._)("div",ot,[rt,(0,s._)("ul",null,[(0,s._)("li",null,[(0,s.Uk)("Data da instalação: "),(0,s._)("b",null,(0,i.zw)(this.data.connection.date_activation?this.data.connection.date_activation:" - "),1)]),(0,s._)("li",null,[(0,s.Uk)("Data da última atualização: "),(0,s._)("b",null,(0,i.zw)(this.data.connection.date_modified?this.data.connection.date_modified:" - "),1)]),(0,s._)("li",null,[(0,s.Uk)("Consumo de dados (este mês): "),(0,s._)("b",null,(0,i.zw)(this.data.connection.consum?this.data.connection.consum:" - "),1)]),(0,s._)("li",null,[(0,s.Uk)("Velocidade da conexão: "),(0,s._)("b",null,(0,i.zw)(this.data.connection.plan_speed?this.data.connection.plan_speed:" - "),1)])])])])])]),ct])])}var ut=e(65),ht=e(8089),pt=e(680),mt=(e(7658),Object.defineProperty),_t=(t,a,e)=>a in t?mt(t,a,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[a]=e,vt=(t,a,e)=>(_t(t,"symbol"!=typeof a?a+"":a,e),e);const kt={"#":{pattern:/[0-9]/},"@":{pattern:/[a-zA-Z]/},"*":{pattern:/[a-zA-Z0-9]/}};class ft{constructor(t={}){vt(this,"opts",{}),vt(this,"memo",new Map);const a={...t};if(null!=a.tokens){a.tokens=a.tokensReplace?{...a.tokens}:{...kt,...a.tokens};for(const t of Object.values(a.tokens))"string"==typeof t.pattern&&(t.pattern=new RegExp(t.pattern))}else a.tokens=kt;Array.isArray(a.mask)&&(a.mask.length>1?a.mask=[...a.mask].sort(((t,a)=>t.length-a.length)):a.mask=a.mask[0]??""),""===a.mask&&(a.mask=null),this.opts=a}masked(t){return this.process(t,this.findMask(t))}unmasked(t){return this.process(t,this.findMask(t),!1)}isEager(){return!0===this.opts.eager}isReversed(){return!0===this.opts.reversed}completed(t){const a=this.findMask(t);if(null==this.opts.mask||null==a)return!1;const e=this.process(t,a).length;return"string"==typeof this.opts.mask?e>=this.opts.mask.length:"function"==typeof this.opts.mask?e>=a.length:this.opts.mask.filter((t=>e>=t.length)).length===this.opts.mask.length}findMask(t){const a=this.opts.mask;if(null==a)return null;if("string"==typeof a)return a;if("function"==typeof a)return a(t);const e=this.process(t,a.slice(-1).pop()??"",!1);return a.find((a=>this.process(t,a,!1).length>=e.length))??""}escapeMask(t){const a=[],e=[];return t.split("").forEach(((s,n)=>{"!"===s&&"!"!==t[n-1]?e.push(n-e.length):a.push(s)})),{mask:a.join(""),escaped:e}}process(t,a,e=!0){var s;if(null==a)return t;const n=`value=${t},mask=${a},masked=${e?1:0}`;if(this.memo.has(n))return this.memo.get(n);const{mask:i,escaped:l}=this.escapeMask(a),o=[],r=null!=this.opts.tokens?this.opts.tokens:{},c=this.isReversed()?-1:1,d=this.isReversed()?"unshift":"push",u=this.isReversed()?0:i.length-1,h=this.isReversed()?()=>v>-1&&k>-1:()=>v<i.length&&k<t.length,p=t=>!this.isReversed()&&t<=u||this.isReversed()&&t>=u;let m,_=-1,v=this.isReversed()?i.length-1:0,k=this.isReversed()?t.length-1:0;for(;h();){const a=i.charAt(v),n=r[a],h=null!=(null==n?void 0:n.transform)?n.transform(t.charAt(k)):t.charAt(k);if(l.includes(v)||null==n)e&&!this.isEager()&&o[d](a),h!==a||this.isEager()?m=a:k+=c,this.isEager()||(v+=c);else{if(null!=h.match(n.pattern))o[d](h),n.repeated?(-1===_?_=v:v===u&&v!==_&&(v=_-c),u===_&&(v-=c)):n.multiple&&(v-=c),v+=c;else if(n.multiple){const t=null!=(null==(s=o[k-c])?void 0:s.match(n.pattern)),a=i.charAt(v+c);t&&""!==a&&null==r[a]?(v+=c,k-=c):o[d]("")}else h===m?m=void 0:n.optional&&(v+=c,k-=c);k+=c}if(this.isEager())for(;p(v)&&(null==r[i.charAt(v)]||l.includes(v));)e?o[d](i.charAt(v)):i.charAt(v)===t.charAt(k)&&(k+=c),v+=c}return this.memo.set(n,o.join("")),this.memo.get(n)}}const gt=t=>JSON.parse(t.replaceAll("'",'"')),bt=(t,a={})=>{const e={...a};return null!=t.dataset.maska&&""!==t.dataset.maska&&(e.mask=Et(t.dataset.maska)),null!=t.dataset.maskaEager&&(e.eager=wt(t.dataset.maskaEager)),null!=t.dataset.maskaReversed&&(e.reversed=wt(t.dataset.maskaReversed)),null!=t.dataset.maskaTokensReplace&&(e.tokensReplace=wt(t.dataset.maskaTokensReplace)),null!=t.dataset.maskaTokens&&(e.tokens=yt(t.dataset.maskaTokens)),e},wt=t=>""===t||!!JSON.parse(t),Et=t=>t.startsWith("[")&&t.endsWith("]")?gt(t):t,yt=t=>{if(t.startsWith("{")&&t.endsWith("}"))return gt(t);const a={};return t.split("|").forEach((t=>{const e=t.split(":");a[e[0]]={pattern:new RegExp(e[1]),optional:"optional"===e[2],multiple:"multiple"===e[2],repeated:"repeated"===e[2]}})),a};class zt{constructor(t,a={}){vt(this,"items",new Map),vt(this,"beforeinputEvent",(t=>{const a=t.target,e=this.items.get(a);e.isEager()&&"inputType"in t&&t.inputType.startsWith("delete")&&e.unmasked(a.value).length<=1&&this.setMaskedValue(a,"")})),vt(this,"inputEvent",(t=>{if(t instanceof CustomEvent&&"input"===t.type&&null!=t.detail&&"object"==typeof t.detail&&"masked"in t.detail)return;const a=t.target,e=this.items.get(a),s=a.value,n=a.selectionStart,i=a.selectionEnd;let l=s;if(e.isEager()){const a=e.masked(s),n=e.unmasked(s);""===n&&"data"in t&&null!=t.data?l=t.data:n!==e.unmasked(a)&&(l=n)}if(this.setMaskedValue(a,l),"inputType"in t&&(t.inputType.startsWith("delete")||null!=n&&n<s.length))try{a.setSelectionRange(n,i)}catch{}})),this.options=a,"string"==typeof t?this.init(Array.from(document.querySelectorAll(t)),this.getMaskOpts(a)):this.init("length"in t?Array.from(t):[t],this.getMaskOpts(a))}destroy(){for(const t of this.items.keys())t.removeEventListener("input",this.inputEvent),t.removeEventListener("beforeinput",this.beforeinputEvent);this.items.clear()}needUpdateOptions(t,a){const e=this.items.get(t),s=new ft(bt(t,this.getMaskOpts(a)));return JSON.stringify(e.opts)!==JSON.stringify(s.opts)}needUpdateValue(t){const a=t.dataset.maskaValue;return null==a&&""!==t.value||null!=a&&a!==t.value}getMaskOpts(t){const{onMaska:a,preProcess:e,postProcess:s,...n}=t;return n}init(t,a){for(const e of t){const t=new ft(bt(e,a));this.items.set(e,t),""!==e.value&&this.setMaskedValue(e,e.value),e.addEventListener("input",this.inputEvent),e.addEventListener("beforeinput",this.beforeinputEvent)}}setMaskedValue(t,a){const e=this.items.get(t);null!=this.options.preProcess&&(a=this.options.preProcess(a));const s=e.masked(a),n=e.unmasked(e.isEager()?s:a),i=e.completed(a),l={masked:s,unmasked:n,completed:i};a=s,null!=this.options.postProcess&&(a=this.options.postProcess(a)),t.value=a,t.dataset.maskaValue=a,null!=this.options.onMaska&&(Array.isArray(this.options.onMaska)?this.options.onMaska.forEach((t=>t(l))):this.options.onMaska(l)),t.dispatchEvent(new CustomEvent("maska",{detail:l})),t.dispatchEvent(new CustomEvent("input",{detail:l}))}}const Mt=new WeakMap,At=t=>{setTimeout((()=>{var a;!0===(null==(a=Mt.get(t))?void 0:a.needUpdateValue(t))&&t.dispatchEvent(new CustomEvent("input"))}))},Ct=(t,a)=>{const e=t instanceof HTMLInputElement?t:t.querySelector("input"),s={...a.arg};if(null==e||"file"===(null==e?void 0:e.type))return;At(e);const n=Mt.get(e);if(null!=n){if(!n.needUpdateOptions(e,s))return;n.destroy()}if(null!=a.value){const t=a.value,e=a=>{t.masked=a.masked,t.unmasked=a.unmasked,t.completed=a.completed};s.onMaska=null==s.onMaska?e:Array.isArray(s.onMaska)?[...s.onMaska,e]:[s.onMaska,e]}Mt.set(e,new zt(e,s))};var Ut={name:"HomeServiceDesk",directives:{maska:Ct},data(){return{search:"",data:{client:[],connection:[],contract:[],financial:[],history:[]},options:{mask:"###.###.###-##",eager:!0}}},methods:{...(0,ut.OI)(["SAVE_SYSTEM"]),getClient(){if(this.search.length<14)return alert("CPF inválido");this.data.client=[],this.data.contract=[],this.data.connection=[],(0,ht.m)({method:"get",url:"/agetools/tools/service-desk/client/"+this.search,headers:{Authorization:"Bearer "+pt.Z.get("token")}}).then((t=>{if(this.data.client=t.data[0],0===t.data.length)return alert("Nenhum cliente encontrado!");this.getContract()}))},getContract(){(0,ht.m)({method:"get",url:"/agetools/tools/service-desk/contract/"+this.data.client.id,headers:{Authorization:"Bearer "+pt.Z.get("token")}}).then((t=>{if(0===t.data.length)return alert("Nenhum contrato vinculado");this.data.contract=t.data[0],this.data.contract.id?this.getConnection():this.data.contract=[]}))},getConnection(){(0,ht.m)({method:"get",url:"/agetools/tools/service-desk/connection/"+this.data.contract.id,headers:{Authorization:"Bearer "+pt.Z.get("token")}}).then((t=>{if(0===t.data.length)return alert("Nenhuma conexão encontrada");this.data.connection=t.data[0]}))}},created(){this.SAVE_SYSTEM({loading:!1})}},St=e(89);const Ot=(0,St.Z)(Ut,[["render",dt],["__scopeId","data-v-67b84676"]]);var Pt=Ot}}]);
//# sourceMappingURL=58.f8fc76d5.js.map