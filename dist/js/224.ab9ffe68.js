"use strict";(self["webpackChunkageportal"]=self["webpackChunkageportal"]||[]).push([[224],{5224:function(t,e,a){a.r(e),a.d(e,{default:function(){return Ge}});var o=a(3396),n=a(7139),l=a(9242);const i=t=>((0,o.dD)("data-v-dc2f5170"),t=t(),(0,o.Cn)(),t),r={class:"container"},s={class:"filters"},d=i((()=>(0,o._)("div",{class:"search"},[(0,o._)("input",{type:"text",name:"search",id:"search",placeholder:"Buscar...",autocomplete:"off"})],-1))),c={class:"filter"},u=i((()=>(0,o._)("i",{class:"fi fi-rs-filter"},null,-1))),h=[u],p=i((()=>(0,o._)("i",{class:"fi fi-rs-file-excel"},null,-1))),_=[p],g={class:"period"},m=i((()=>(0,o._)("span",null,"Período",-1))),f={class:"turns"},w={class:"data"},D={class:"table"},v={key:0},k=i((()=>(0,o._)("th",null,"Tipo de solicitação",-1))),y={class:"filters-arrow"},b=i((()=>(0,o._)("span",null,"Protocolo",-1))),C={class:"filters-options"},z=i((()=>(0,o._)("th",null,"Nome do cliente",-1))),S={class:"filters-arrow"},M=i((()=>(0,o._)("span",null,"Turno",-1))),x={class:"filters-options"},I={class:"filters-arrow"},F=i((()=>(0,o._)("span",null,"Região",-1))),N={class:"filters-options"},T=i((()=>(0,o._)("th",null,"Equipe",-1))),Y={class:"filters-arrow"},q=i((()=>(0,o._)("span",null,"Técnico",-1))),A={class:"filters-options"},E=i((()=>(0,o._)("th",null,"Data inicio att.",-1))),H=i((()=>(0,o._)("th",null,"Data fim att.",-1))),P=i((()=>(0,o._)("th",null,"Status",-1))),U=i((()=>(0,o._)("th",null,"Data inicio agendamento",-1))),$=i((()=>(0,o._)("th",null,"Data fim agendamento",-1))),O=i((()=>(0,o._)("th",null,"Nº do contrato",-1))),Z=i((()=>(0,o._)("th",null,"Situacao do contrato",-1))),K=i((()=>(0,o._)("th",null,"Status do contrato",-1))),V=i((()=>(0,o._)("th",null,"Contexto",-1))),L=i((()=>(0,o._)("th",null,"Problema",-1))),B={key:0,class:"modal-filters"},j={class:"card-modal"},R={class:"close-button"},W=i((()=>(0,o._)("h2",null,"Filtros disponíveis",-1))),G={class:"filters-available"},J={class:"filter-available"},Q=i((()=>(0,o._)("label",{for:"typeNote"},"Tipo de solicitação: ",-1))),X=["value"],tt={class:"filter-available"},et=i((()=>(0,o._)("label",{for:"dateSchedule"},[(0,o.Uk)("Data do agendamento: "),(0,o._)("b",null,"*")],-1))),at={class:"filter-available"},ot=i((()=>(0,o._)("label",{for:"region"},"Região: ",-1))),nt=i((()=>(0,o._)("option",{value:"0",selected:""},"--- Selecione a região ---",-1))),lt=["value"],it=i((()=>(0,o._)("div",{class:"filter-data"},[(0,o._)("button",null,"Filtrar")],-1))),rt={key:1,class:"grid-container"},st={class:"calendar"},dt={class:"dashboards"},ct={class:"list"},ut={class:"filters"};function ht(t,e,a,i,u,p){const ht=(0,o.up)("CalendarComponent"),pt=(0,o.up)("DashboardSchedule"),_t=(0,o.up)("ListData"),gt=(0,o.up)("LoadingSpinner"),mt=(0,o.up)("ShortFilters");return"new"!==u.page?((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[(0,o._)("div",r,[(0,o._)("div",s,[d,(0,o._)("div",c,[(0,o._)("button",{onClick:e[0]||(e[0]=(...t)=>p.modalAction&&p.modalAction(...t))},h),u.dataItems.length?((0,o.wg)(),(0,o.iD)("button",{key:0,onClick:e[1]||(e[1]=(...t)=>p.download&&p.download(...t))},_)):(0,o.kq)("",!0)]),(0,o._)("span",null,[(0,o.Uk)("Contagem do resultado: "),(0,o._)("b",null,(0,n.zw)(u.dataItems.length?u.dataItems.length:0),1)]),(0,o._)("div",g,[m,(0,o._)("div",f,[(0,o._)("p",null,[(0,o.Uk)("Manhã: "),(0,o._)("b",null,(0,n.zw)(u.countTurns.morning),1)]),(0,o._)("p",null,[(0,o.Uk)("Tarde: "),(0,o._)("b",null,(0,n.zw)(u.countTurns.afternoon),1)]),(0,o._)("p",null,[(0,o.Uk)("Noite: "),(0,o._)("b",null,(0,n.zw)(u.countTurns.night),1)])])])]),(0,o._)("div",w,[(0,o._)("div",D,[u.loading?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("table",v,[(0,o._)("thead",null,[(0,o._)("tr",null,[k,(0,o._)("th",null,[(0,o._)("div",y,[b,(0,o._)("div",C,["no-order"===u.orders.protocol?((0,o.wg)(),(0,o.iD)("i",{key:0,class:"fi fi-sr-sort-alt",onClick:e[2]||(e[2]=t=>p.ordenateData("protocol","up"))})):(0,o.kq)("",!0),"up"===u.orders.protocol?((0,o.wg)(),(0,o.iD)("i",{key:1,class:"fi fi-rs-arrow-alt-up",onClick:e[3]||(e[3]=t=>p.ordenateData("protocol","down"))})):(0,o.kq)("",!0),"down"===u.orders.protocol?((0,o.wg)(),(0,o.iD)("i",{key:2,class:"fi fi-rs-arrow-alt-down",onClick:e[4]||(e[4]=t=>p.ordenateData("protocol","no-order"))})):(0,o.kq)("",!0)])])]),z,(0,o._)("th",null,[(0,o._)("div",S,[M,(0,o._)("div",x,["no-order"===u.orders.turn?((0,o.wg)(),(0,o.iD)("i",{key:0,class:"fi fi-sr-sort-alt",onClick:e[5]||(e[5]=t=>p.ordenateData("turn","up"))})):(0,o.kq)("",!0),"up"===u.orders.turn?((0,o.wg)(),(0,o.iD)("i",{key:1,class:"fi fi-rs-arrow-alt-up",onClick:e[6]||(e[6]=t=>p.ordenateData("turn","down"))})):(0,o.kq)("",!0),"down"===u.orders.turn?((0,o.wg)(),(0,o.iD)("i",{key:2,class:"fi fi-rs-arrow-alt-down",onClick:e[7]||(e[7]=t=>p.ordenateData("turn","no-order"))})):(0,o.kq)("",!0)])])]),(0,o._)("th",null,[(0,o._)("div",I,[F,(0,o._)("div",N,["no-order"===u.orders.region?((0,o.wg)(),(0,o.iD)("i",{key:0,class:"fi fi-sr-sort-alt",onClick:e[8]||(e[8]=t=>p.ordenateData("region","up"))})):(0,o.kq)("",!0),"up"===u.orders.region?((0,o.wg)(),(0,o.iD)("i",{key:1,class:"fi fi-rs-arrow-alt-up",onClick:e[9]||(e[9]=t=>p.ordenateData("region","down"))})):(0,o.kq)("",!0),"down"===u.orders.region?((0,o.wg)(),(0,o.iD)("i",{key:2,class:"fi fi-rs-arrow-alt-down",onClick:e[10]||(e[10]=t=>p.ordenateData("region","no-order"))})):(0,o.kq)("",!0)])])]),T,(0,o._)("th",null,[(0,o._)("div",Y,[q,(0,o._)("div",A,["no-order"===u.orders.technical?((0,o.wg)(),(0,o.iD)("i",{key:0,class:"fi fi-sr-sort-alt",onClick:e[11]||(e[11]=t=>p.ordenateData("technical","up"))})):(0,o.kq)("",!0),"up"===u.orders.technical?((0,o.wg)(),(0,o.iD)("i",{key:1,class:"fi fi-rs-arrow-alt-up",onClick:e[12]||(e[12]=t=>p.ordenateData("technical","down"))})):(0,o.kq)("",!0),"down"===u.orders.technical?((0,o.wg)(),(0,o.iD)("i",{key:2,class:"fi fi-rs-arrow-alt-down",onClick:e[13]||(e[13]=t=>p.ordenateData("technical","no-order"))})):(0,o.kq)("",!0)])])]),E,H,P,U,$,O,Z,K,V,L])]),(0,o._)("tbody",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(u.dataItems,((t,e)=>((0,o.wg)(),(0,o.iD)("tr",{key:e},[(0,o._)("td",null,(0,n.zw)(t.type_note),1),(0,o._)("td",null,(0,n.zw)(t.protocol),1),(0,o._)("td",null,(0,n.zw)(t.name_client),1),(0,o._)("td",null,(0,n.zw)(t.turnName),1),(0,o._)("td",null,(0,n.zw)(t.region),1),(0,o._)("td",null,(0,n.zw)(t.team),1),(0,o._)("td",null,(0,n.zw)(t.technical),1),(0,o._)("td",null,(0,n.zw)(t.date_start_attendance),1),(0,o._)("td",null,(0,n.zw)(t.date_end_attendance),1),(0,o._)("td",null,(0,n.zw)(t.status),1),(0,o._)("td",null,(0,n.zw)(t.date_start_schedule),1),(0,o._)("td",null,(0,n.zw)(t.date_end_schedule),1),(0,o._)("td",null,(0,n.zw)(t.contract_id),1),(0,o._)("td",null,(0,n.zw)(t.stage_contract),1),(0,o._)("td",null,(0,n.zw)(t.status_contract),1),(0,o._)("td",null,(0,n.zw)(t.context),1),(0,o._)("td",null,(0,n.zw)(t.problem),1)])))),128))])]))])])]),u.modal?((0,o.wg)(),(0,o.iD)("div",B,[(0,o._)("div",j,[(0,o._)("div",R,[(0,o._)("i",{class:"fi fi-rs-cross",onClick:e[14]||(e[14]=(...t)=>p.modalAction&&p.modalAction(...t))})]),W,(0,o._)("form",{action:"#",onSubmit:e[18]||(e[18]=(0,l.iM)(((...t)=>p.getData&&p.getData(...t)),["prevent"]))},[(0,o._)("div",G,[(0,o._)("div",J,[Q,(0,o.wy)((0,o._)("select",{multiple:"","onUpdate:modelValue":e[15]||(e[15]=t=>u.selectedOptions=t)},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(u.options,((t,e)=>((0,o.wg)(),(0,o.iD)("option",{value:t.value,key:e},(0,n.zw)(t.label),9,X)))),128))],512),[[l.bM,u.selectedOptions]])]),(0,o._)("div",tt,[et,(0,o.wy)((0,o._)("input",{type:"date",name:"dateSchedule",id:"dateSchedule","onUpdate:modelValue":e[16]||(e[16]=t=>u.payload.dateSchedule=t),required:""},null,512),[[l.nr,u.payload.dateSchedule]])]),(0,o._)("div",at,[ot,(0,o.wy)((0,o._)("select",{name:"region",id:"region","onUpdate:modelValue":e[17]||(e[17]=t=>u.payload.region=t)},[nt,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(this.filters.region,(t=>((0,o.wg)(),(0,o.iD)("option",{value:t.id,key:t.id},(0,n.zw)(t.title),9,lt)))),128))],512),[[l.bM,u.payload.region]])]),it])],32)])])):(0,o.kq)("",!0)],64)):((0,o.wg)(),(0,o.iD)("div",rt,[(0,o._)("div",st,[(0,o.Wm)(ht,{onGetDateFilter:p.getDateFilter,pendingConsult:u.pendingConsult},null,8,["onGetDateFilter","pendingConsult"])]),(0,o._)("div",dt,[(0,o.Wm)(pt,{data:u.dashboardData,onFilterData:p.filteredData},null,8,["data","onFilterData"])]),(0,o._)("div",ct,[u.loading?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(_t,{key:0,data:this.listData.data,typeFilter:this.listData.typeFilter,onDownloadExcel:p.download},null,8,["data","typeFilter","onDownloadExcel"])),u.loading?((0,o.wg)(),(0,o.j4)(gt,{key:1})):(0,o.kq)("",!0)]),(0,o._)("div",ut,[(0,o.Wm)(mt,{dataFilters:this.filters.typeNote,onFilterData:p.getData},null,8,["dataFilters","onFilterData"])])]))}a(7658);var pt=a(65),_t=a(8089),gt=a(680),mt=a(9372);const ft=t=>((0,o.dD)("data-v-1a36dd5e"),t=t(),(0,o.Cn)(),t),wt={class:"calendar-container"},Dt={id:"calendar"},vt={class:"items"},kt=ft((()=>(0,o._)("i",{class:"fi fi-sr-angle-left"},null,-1))),yt=[kt],bt=ft((()=>(0,o._)("i",{class:"fi fi-sr-angle-right"},null,-1))),Ct=[bt],zt=["onClick"],St={key:0,class:"day"},Mt={key:1};function xt(t,e,a,l,i,r){return(0,o.wg)(),(0,o.iD)("div",wt,[(0,o._)("div",Dt,[(0,o._)("table",null,[(0,o._)("caption",null,[(0,o._)("div",vt,[(0,o._)("button",{onClick:e[0]||(e[0]=(...t)=>r.prevMonth&&r.prevMonth(...t))},yt),(0,o._)("span",null,(0,n.zw)(i.monthNames[i.currentMonth])+" "+(0,n.zw)(i.currentYear),1),(0,o._)("button",{onClick:e[1]||(e[1]=(...t)=>r.nextMonth&&r.nextMonth(...t))},Ct)])]),(0,o._)("thead",null,[(0,o._)("tr",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.daysOfWeek,(t=>((0,o.wg)(),(0,o.iD)("th",{key:t},(0,n.zw)(t),1)))),128))])]),(0,o._)("tbody",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.weeks,((t,e)=>((0,o.wg)(),(0,o.iD)("tr",{key:e},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t,(t=>((0,o.wg)(),(0,o.iD)("td",{key:t.date,onClick:e=>{r.selectDay(t),r.getData(t)}},[t.date===i.daySelected?((0,o.wg)(),(0,o.iD)("div",St,(0,n.zw)(t.date),1)):((0,o.wg)(),(0,o.iD)("div",Mt,(0,n.zw)(t.date),1))],8,zt)))),128))])))),128))])])])])}var It={name:"CalendarComponent",props:["pendingConsult"],emits:["getDateFilter"],data(){return{monthNames:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],daysOfWeek:["Dom","Seg","Ter","Qua","Qui","Sex","Sab"],currentYear:null,currentMonth:null,weeks:[],daySelected:""}},mounted(){const t=new Date;this.currentYear=t.getFullYear(),this.currentMonth=t.getMonth(),this.displayCalendar()},methods:{displayCalendar(){const t=new Date(this.currentYear,this.currentMonth+1,0).getDate(),e=new Date(this.currentYear,this.currentMonth,1).getDay(),a=new Date(this.currentYear,this.currentMonth,t).getDay(),o=[];let n=[];for(let l=0;l<e;l++)n.push({});for(let l=1;l<=t;l++)7===n.length&&(o.push(n),n=[]),n.push({date:l});for(let l=a+1;l<=6;l++)n.push({});o.push(n),this.weeks=o,this.selectDay({date:(new Date).getDate()})},isCurrentDay(t){const e=new Date;return t.date===e.getDate()&&this.currentMonth===e.getMonth()&&this.currentYear===e.getFullYear()},isCurrentMonth(){const t=new Date;return this.currentMonth===t.getMonth()&&this.currentYear===t.getFullYear()},prevMonth(){0===this.currentMonth?(this.currentYear--,this.currentMonth=11):this.currentMonth--,this.displayCalendar()},nextMonth(){11===this.currentMonth?(this.currentYear++,this.currentMonth=0):this.currentMonth++,this.displayCalendar()},selectDay(t){this.pendingConsult||(this.daySelected=t.date),this.getData(t)},getData(t){let e=this.currentYear,a=this.currentMonth+1<10?`0${this.currentMonth+1}`:this.currentMonth+1,o=t.date<10?`0${t.date}`:t.date;this.pendingConsult?alert("aguarde a consulta!"):this.$emit("getDateFilter",`${e}-${a}-${o}`)}}},Ft=a(89);const Nt=(0,Ft.Z)(It,[["render",xt],["__scopeId","data-v-1a36dd5e"]]);var Tt=Nt;const Yt=t=>((0,o.dD)("data-v-159ebda4"),t=t(),(0,o.Cn)(),t),qt={id:"dashboards"},At={class:"container-icon"},Et={class:"icon"},Ht=["src"],Pt={class:"container-info"},Ut={class:"info"},$t=Yt((()=>(0,o._)("div",{class:"title"},[(0,o._)("span",null,"Total do dia")],-1))),Ot={class:"value"},Zt={class:"container-icon"},Kt={class:"icon"},Vt=["src"],Lt={class:"container-info"},Bt={class:"info"},jt=Yt((()=>(0,o._)("div",{class:"title"},[(0,o._)("span",null,"Período da Manhã")],-1))),Rt={class:"value"},Wt={class:"container-icon"},Gt={class:"icon"},Jt=["src"],Qt={class:"container-info"},Xt={class:"info"},te=Yt((()=>(0,o._)("div",{class:"title"},[(0,o._)("span",null,"Período da Tarde")],-1))),ee={class:"value"},ae={class:"container-icon"},oe={class:"icon"},ne=["src"],le={class:"container-info"},ie={class:"info"},re=Yt((()=>(0,o._)("div",{class:"title"},[(0,o._)("span",null,"Sem téc. atribuído")],-1))),se={class:"value"};function de(t,e,l,i,r,s){return(0,o.wg)(),(0,o.iD)("div",qt,[(0,o._)("div",{class:"dashboard",onClick:e[0]||(e[0]=t=>s.filterData("all"))},[(0,o._)("div",At,[(0,o._)("div",Et,[(0,o._)("img",{src:a(5125),alt:"servico-tecnico"},null,8,Ht)])]),(0,o._)("div",Pt,[(0,o._)("div",Ut,[$t,(0,o._)("div",Ot,[(0,o._)("span",null,(0,n.zw)(l.data.total),1)])])])]),(0,o._)("div",{class:"dashboard",onClick:e[1]||(e[1]=t=>s.filterData("morning"))},[(0,o._)("div",Zt,[(0,o._)("div",Kt,[(0,o._)("img",{src:a(9247),alt:"sol-manha"},null,8,Vt)])]),(0,o._)("div",Lt,[(0,o._)("div",Bt,[jt,(0,o._)("div",Rt,[(0,o._)("span",null,(0,n.zw)(l.data.turn.morning),1)])])])]),(0,o._)("div",{class:"dashboard",onClick:e[2]||(e[2]=t=>s.filterData("afternoon"))},[(0,o._)("div",Wt,[(0,o._)("div",Gt,[(0,o._)("img",{src:a(2587),alt:"sol-tarde"},null,8,Jt)])]),(0,o._)("div",Qt,[(0,o._)("div",Xt,[te,(0,o._)("div",ee,[(0,o._)("span",null,(0,n.zw)(l.data.turn.afternoon),1)])])])]),(0,o._)("div",{class:"dashboard",onClick:e[3]||(e[3]=t=>s.filterData("notAtt"))},[(0,o._)("div",ae,[(0,o._)("div",oe,[(0,o._)("img",{src:a(3777),alt:"suporte-tecnico"},null,8,ne)])]),(0,o._)("div",le,[(0,o._)("div",ie,[re,(0,o._)("div",se,[(0,o._)("span",null,(0,n.zw)(l.data.notAtt),1)])])])])])}var ce={name:"DashboardSchedule",props:["data"],emits:["filterData"],methods:{filterData(t){this.$emit("filterData",t)}}};const ue=(0,Ft.Z)(ce,[["render",de],["__scopeId","data-v-159ebda4"]]);var he=ue;const pe=t=>((0,o.dD)("data-v-96587e3c"),t=t(),(0,o.Cn)(),t),_e={class:"container-list-data"},ge={key:0,class:"options-list-data"},me=pe((()=>(0,o._)("div",{class:"search"},[(0,o._)("input",{type:"text",name:"search",id:"search",placeholder:"Buscar...",autocomplete:"off"})],-1))),fe={class:"buttons"},we={id:"list-data"},De={key:0},ve=pe((()=>(0,o._)("thead",null,[(0,o._)("tr",null,[(0,o._)("th",null,"Protocolo"),(0,o._)("th",null,"Nome do cliente"),(0,o._)("th",null,"Técnico"),(0,o._)("th",null,"Data agendamento"),(0,o._)("th",null,"Turno"),(0,o._)("th",null,"Tipo de solicitação"),(0,o._)("th",null,"Ações")])],-1))),ke={class:"actions"},ye=["onClick"],be=pe((()=>(0,o._)("i",{class:"fi fi-rr-copy-alt"},null,-1))),Ce=[be],ze=["onClick"],Se=pe((()=>(0,o._)("i",{class:"fi fi-rr-redo"},null,-1))),Me=[Se],xe={key:1,class:"alert"},Ie=pe((()=>(0,o._)("span",null," Nenhum dado encontrado! ",-1))),Fe=[Ie];function Ne(t,e,a,l,i,r){return(0,o.wg)(),(0,o.iD)("div",_e,[a.data.length>0?((0,o.wg)(),(0,o.iD)("div",ge,[me,(0,o._)("div",fe,[(0,o._)("button",{onClick:e[0]||(e[0]=(...t)=>r.downloadExcel&&r.downloadExcel(...t))},"Download excel")])])):(0,o.kq)("",!0),(0,o._)("div",we,[a.data.length>0?((0,o.wg)(),(0,o.iD)("table",De,[ve,(0,o._)("tbody",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.data,((t,e)=>((0,o.wg)(),(0,o.iD)("tr",{key:e},[(0,o._)("td",null,(0,n.zw)(t.protocol),1),(0,o._)("td",null,(0,n.zw)(t.name_client),1),(0,o._)("td",null,(0,n.zw)(t.technical),1),(0,o._)("td",null,(0,n.zw)(t.date_start_schedule),1),(0,o._)("td",null,(0,n.zw)(t.turnName),1),(0,o._)("td",null,(0,n.zw)(t.type_note),1),(0,o._)("td",null,[(0,o._)("div",ke,[(0,o._)("button",{onClick:e=>r.copyProtocol(t.protocol)},Ce,8,ye),(0,o._)("button",{onClick:e=>r.searchInVoalle(t.protocol,t.id_client)},Me,8,ze)])])])))),128))])])):((0,o.wg)(),(0,o.iD)("div",xe,Fe))])])}var Te={name:"ListData",props:["data","typeFilter"],emits:["downloadExcel"],data(){return{jsonHash:{personID:0,pbxInfo:{},availability:!0}}},methods:{downloadExcel(){this.$emit("downloadExcel")},copyProtocol:function(t){const e=t,a=document.createElement("input");a.setAttribute("value",e),document.body.appendChild(a),a.select(),document.execCommand("copy"),document.body.removeChild(a)},searchInVoalle:function(t,e){this.jsonHash.personID=e;const a="https://erp.agetelecom.com.br/search_people";this.copyProtocol(t),window.open(a,"_blank")},filteredData:function(){alert(this.typeFilter)}}};const Ye=(0,Ft.Z)(Te,[["render",Ne],["__scopeId","data-v-96587e3c"]]);var qe=Ye;const Ae=t=>((0,o.dD)("data-v-05407169"),t=t(),(0,o.Cn)(),t),Ee={id:"filters"},He=Ae((()=>(0,o._)("div",{class:"title"},[(0,o._)("h2",null,"Filtrar tipo de solicitação")],-1))),Pe={class:"items"},Ue={class:"checkbox"},$e={class:"container-checkbox"},Oe=["name","id","value"],Ze=Ae((()=>(0,o._)("span",{class:"checkmark"},null,-1))),Ke={class:"title-item"};function Ve(t,e,a,i,r,s){return(0,o.wg)(),(0,o.iD)("div",Ee,[He,(0,o._)("div",Pe,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.dataFilters,(t=>((0,o.wg)(),(0,o.iD)("div",{class:"item",key:t.id},[(0,o._)("div",Ue,[(0,o._)("label",$e,[(0,o.wy)((0,o._)("input",{type:"checkbox",name:`filter${t.id}`,id:t.id,"onUpdate:modelValue":e[0]||(e[0]=t=>r.checkboxId=t),value:t.id},null,8,Oe),[[l.e8,r.checkboxId]]),Ze])]),(0,o._)("div",Ke,[(0,o._)("span",null,(0,n.zw)(t.title),1)])])))),128))]),(0,o._)("button",{onClick:e[1]||(e[1]=(...t)=>s.filterData&&s.filterData(...t))},"Filtrar")])}var Le={name:"ShortFilters",props:["dataFilters"],emits:["filterData"],data(){return{checkboxId:[]}},methods:{filterData(){this.$emit("filterData",this.checkboxId)}},beforeMount(){}};const Be=(0,Ft.Z)(Le,[["render",Ve],["__scopeId","data-v-05407169"]]);var je=Be,Re={name:"HomeSchedule",components:{LoadingSpinner:mt.Z,CalendarComponent:Tt,DashboardSchedule:he,ListData:qe,ShortFilters:je},data(){return{page:"new",filtered:!1,modal:!1,filters:{typeNote:{},region:{}},payload:{typeNote:null,dateSchedule:null,region:0},loading:!1,dataItems:{},orders:{protocol:"no-order",turn:"no-order",technical:"no-order",region:"no-order"},countTurns:{morning:0,afternoon:0,night:0},options:[],selectedOptions:[],pendingConsult:!1,dashboardData:{turn:{morning:0,afternoon:0,night:0},total:0,notAtt:0},listData:{typeFilter:"all",data:{}}}},methods:{...(0,pt.OI)(["SAVE_SYSTEM"]),modalAction(){this.modal=!this.modal},getFilters:function(){(0,_t.m)({method:"GET",url:"agetools/tools/schedule/dashboard/filters",headers:{Authorization:"Bearer "+gt.Z.get("token")}}).then((t=>{this.filters.typeNote=t.data.typeNotes,this.filters.typeNote.forEach((t=>{this.options.push({label:t.title,value:t.id})})),this.filters.region=t.data.regions}))},getData:function(t){this.loading=!0,this.modal=!1,this.pendingConsult=!0,this.payload.typeNote=t,this.dashboardData.total=0,this.dashboardData.turn.morning=0,this.dashboardData.turn.afternoon=0,this.dashboardData.notAtt=0,this.listData.typeFilter="all",(0,_t.m)({method:"GET",url:"agetools/tools/schedule/dashboard/data",params:{dateSchedule:this.payload.dateSchedule,typeNote:this.payload.typeNote},headers:{Authorization:"Bearer "+gt.Z.get("token")}}).then((t=>{this.loading=!1,this.dataItems=t.data,this.listData.data=t.data,this.pendingConsult=!1,this.dataItems.forEach((t=>{let e=new Date(t.date_start_schedule),a=e.getHours(),o="";a>=6&&a<12?(o="Manhã",this.dashboardData.turn.morning++):a>=12&&a<18?(o="Tarde",this.dashboardData.turn.afternoon++):(o="Noite",this.dashboardData.turn.night++),t["turnName"]=o,null===t.technical&&this.dashboardData.notAtt++})),this.dashboardData.total=this.dataItems.length}))},download:function(){const t=["Protocolo","Status","Tipo de solicitação","Equipe","Técnico","Data inicio att.","Data fim att.","Data inicio agendamento","Data fim agendamento","id_client","Nome do cliente","Nº do contrato","Situacao do contrato","Status do contrato","Contexto","Problema","Região","Turno"],e=this.dataItems;(0,_t.m)({method:"POST",url:"agetools/tools/schedule/dashboard/download-excel",data:{headersExcel:t,data:e},responseType:"blob",headers:{Authorization:"Bearer "+gt.Z.get("token")}}).then((t=>{let e=new Blob([t.data],{type:"vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),a=document.createElement("a");a.href=window.URL.createObjectURL(e),a.download="agenda.xlsx",a.click()}))},ordenateData:function(t,e){let a=()=>{this.orders.turn="no-order",this.orders.technical="no-order",this.orders.protocol="no-order",this.orders.region="no-order"};switch(t){case"turn":a(),this.orders.turn=e,"up"!==e&&"down"!==e||this.dataItems.sort(((t,a)=>t.turnName>a.turnName?"up"===e?1:-1:t.turnName<a.turnName?"down"===e?1:-1:void 0)),"no-order"===e&&this.dataItems.sort(((t,e)=>t.protocol>e.protocol?-1:t.protocol<e.protocol?1:void 0));break;case"protocol":a(),this.orders.protocol=e,"up"!==e&&"down"!==e||this.dataItems.sort(((t,a)=>t.protocol>a.protocol?"up"===e?1:-1:t.protocol<a.protocol?"down"===e?1:-1:void 0)),"no-order"===e&&this.dataItems.sort(((t,e)=>t.protocol>e.protocol?-1:t.protocol<e.protocol?1:void 0));break;case"technical":a(),this.orders.technical=e,"up"!==e&&"down"!==e||this.dataItems.sort(((t,a)=>t.technical>a.technical?"up"===e?1:-1:t.technical<a.technical?"down"===e?1:-1:void 0)),"no-order"===e&&this.dataItems.sort(((t,e)=>t.protocol>e.protocol?-1:t.protocol<e.protocol?1:void 0));break;case"region":a(),this.orders.region=e,"up"!==e&&"down"!==e||this.dataItems.sort(((t,a)=>t.region>a.region?"up"===e?1:-1:t.region<a.region?"down"===e?1:-1:void 0)),"no-order"===e&&this.dataItems.sort(((t,e)=>t.protocol>e.protocol?-1:t.protocol<e.protocol?1:void 0));break}},getDateFilter:function(t){this.payload.dateSchedule=t},filteredData:function(t){"all"===t?this.listData.data=this.dataItems:"morning"===t?this.listData.data=this.dataItems.filter((t=>"Manhã"===t.turnName)):"afternoon"===t?this.listData.data=this.dataItems.filter((t=>"Tarde"===t.turnName)):"notAtt"===t&&(this.listData.data=this.dataItems.filter((t=>null===t.technical)))}},computed:{...(0,pt.Se)(["system"])},beforeMount(){this.SAVE_SYSTEM({loading:!1}),this.getFilters()}};const We=(0,Ft.Z)(Re,[["render",ht],["__scopeId","data-v-dc2f5170"]]);var Ge=We},9247:function(t,e,a){t.exports=a.p+"img/manha.827e41c4.png"},5125:function(t,e,a){t.exports=a.p+"img/servico-tecnico.a22c6d74.png"},3777:function(t,e,a){t.exports=a.p+"img/suporte-tecnico.05f9f4e8.png"},2587:function(t,e,a){t.exports=a.p+"img/tarde.d9c26579.png"}}]);
//# sourceMappingURL=224.ab9ffe68.js.map