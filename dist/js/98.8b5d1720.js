"use strict";(self["webpackChunkageportal"]=self["webpackChunkageportal"]||[]).push([[98],{1101:function(t,e,s){s.d(e,{Z:function(){return v}});var a=s(3396),i=s(7139),r=s(9242);const o=t=>((0,a.dD)("data-v-1ae3b8f6"),t=t(),(0,a.Cn)(),t),n={class:"content-card"},d={class:"filters"},l={key:0,id:"reports",class:"animation-down"},c=["onClick"],h=o((()=>(0,a._)("i",{class:"fi fi-rr-document-signed"},null,-1)));function u(t,e,s,o,u,p){return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("button",{onClick:e[0]||(e[0]=(...t)=>p.closePage&&p.closePage(...t))},"Voltar"),(0,a._)("div",n,[(0,a._)("h1",null,"Editar acesso - "+(0,i.zw)(s.data.name),1),(0,a._)("div",d,[(0,a.wy)((0,a._)("input",{type:"text",id:"searchReport",name:"searchReport",placeholder:"Buscar relatório...",autocomplete:"off","onUpdate:modelValue":e[1]||(e[1]=t=>u.searchReport=t)},null,512),[[r.nr,u.searchReport]]),(0,a._)("button",{onClick:e[2]||(e[2]=t=>p.alternateUserAccess())},(0,i.zw)(u.dataUser.access?"Inativar acesso":"Ativar acesso"),1)]),!0===u.status?((0,a.wg)(),(0,a.iD)("div",l,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(p.ReportsFiltered,(t=>((0,a.wg)(),(0,a.iD)("div",{class:"report",key:t.id,onClick:e=>p.alternateReportAccess(u.dataUser.id,t.id)},[(0,a._)("div",null,[h,(0,a._)("span",null,(0,i.zw)(t.report),1)]),(0,a._)("span",null,(0,i.zw)(t.access?"Ativo":"Inativo"),1)],8,c)))),128))])):(0,a.kq)("",!0)])],64)}var p=s(8089),m=s(680),g={name:"EditAccess",props:{data:{required:!0}},data(){return{searchReport:"",dataReport:{},status:!1,dataUser:this.data,loading:!0}},methods:{closePage:function(){this.$emit("close-page")},getReports:function(){this.loading=!0,this.status=!1,this.dataReport={},(0,p.m)({method:"GET",url:`admin/reports-permitteds/${this.data.id}`,headers:{Authorization:"Bearer"+m.Z.get("token")}}).then((t=>{this.dataReport=t.data,this.loading=!1,this.status=!0}))},alternateUserAccess:function(){this.loading=!0,(0,p.m)({method:"PUT",url:`admin/access-systems/alternate/${this.data.id}`,headers:{Authorization:"Bearer"+m.Z.get("token")},params:{system:"agereport"}}).then((t=>{this.dataUser.access=t.data.access,this.loading=!1,alert(t.data.msg)}))},alternateReportAccess:function(t,e){this.loading=!0,(0,p.m)({method:"PUT",url:`admin/reports-permitteds/alternate/${t}/${e}`,headers:{Authorization:"Bearer "+m.Z.get("token")}}).then((t=>{this.loading=!1,alert(t.data.msg),this.getReports()}))}},computed:{ReportsFiltered:function(){let t=[];return t=this.dataReport.filter((t=>t.report.toLowerCase().indexOf(this.searchReport.toLowerCase())>-1)),t}},mounted(){this.getReports()}},f=s(89);const w=(0,f.Z)(g,[["render",u],["__scopeId","data-v-1ae3b8f6"]]);var v=w},7098:function(t,e,s){s.r(e),s.d(e,{default:function(){return E}});var a=s(3396),i=s(9242),r=s(7139);const o=t=>((0,a.dD)("data-v-3e49e27c"),t=t(),(0,a.Cn)(),t),n={key:0,class:"management"},d=o((()=>(0,a._)("h1",null,"Gerenciamentos - Relatórios",-1))),l={class:"container-mng"},c={class:"content-users animation-down"},h={class:"filters"},u={class:"list"},p=o((()=>(0,a._)("div",{class:"list-header"},[(0,a._)("div",{class:"item-list-header",style:{"text-align":"left",width:"25%"}}," Nome "),(0,a._)("div",{class:"item-list-header",style:{"text-align":"left",width:"25%"}}," E-mail "),(0,a._)("div",{class:"item-list-header",style:{"text-align":"center",width:"25%"}}," Acesso ")],-1))),m={key:0,class:"items-list-body animation-down"},g=["onClick"],f={class:"item-list-body",style:{"text-align":"left",width:"25%"}},w={class:"item-list-body",style:{"text-align":"left",width:"25%"}},v={class:"item-list-body",style:{"text-align":"center",width:"25%"}};function R(t,e,s,o,R,_){const k=(0,a.up)("EditAccess");return(0,a.wg)(),(0,a.iD)(a.HY,null,["Usuários"===R.page?((0,a.wg)(),(0,a.iD)("div",n,[d,(0,a._)("div",l,[(0,a._)("div",c,[(0,a._)("div",h,[(0,a.wy)((0,a._)("input",{type:"text",id:"search",name:"search",placeholder:"Buscar e-mail...",autocomplete:"off","onUpdate:modelValue":e[0]||(e[0]=t=>R.search=t)},null,512),[[i.nr,R.search]])]),(0,a._)("div",u,[p,!0===R.status?((0,a.wg)(),(0,a.iD)("div",m,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(_.UsersFiltered,((t,e)=>((0,a.wg)(),(0,a.iD)("div",{class:"list-body",key:e,onClick:e=>_.editAccess(t.id,t.name,t.access)},[(0,a._)("div",f,(0,r.zw)(t.name),1),(0,a._)("div",w,(0,r.zw)(t.email),1),(0,a._)("div",v,(0,r.zw)(t.access?"Ativo":"Inativo"),1)],8,g)))),128))])):(0,a.kq)("",!0)])])])])):(0,a.kq)("",!0),"editAccess"===R.page?((0,a.wg)(),(0,a.j4)(k,{key:1,onClosePage:e[1]||(e[1]=t=>_.closePage()),data:R.dataEdit},null,8,["data"])):(0,a.kq)("",!0)],64)}var _=s(680),k=s(8089),y=s(1101),A={name:"ReportUsersManagement",components:{EditAccess:y.Z},data(){return{mode:_.Z.get("mode"),page:"Usuários",search:"",data:null,status:!1,dataReport:null,searchReport:"",loading:!0,id:0,report:"",modal:"",dataEdit:{name:"",id:0,access:!1}}},methods:{modeView:function(t){this.mode=t},getUsers:function(){this.status=!1,(0,k.m)({method:"GET",url:"admin/access-systems",params:{system:"agereport"},headers:{Authorization:"Bearer"+_.Z.get("token")}}).then((t=>{this.data=t.data,this.status=!0})).catch((t=>{console.log(t)}))},getReports:function(){this.status=!1,(0,k.m)({method:"GET",url:"agereport/report/reports",headers:{Authorization:"Bearer"+_.Z.get("token")}}).then((t=>{this.dataReport=t.data,this.status=!0,this.loading=!1}))},editReport:function(t,e){this.page="editReport",this.id=t,this.report=e},editMsg:function(t){alert(t.msg)},closePage:function(){this.page="Usuários"},editAccess:function(t,e,s){this.dataEdit.id=t,this.dataEdit.name=e,this.dataEdit.access=s,this.page="editAccess"}},computed:{UsersFiltered:function(){let t=[];return t=this.data.filter((t=>t.name.toLowerCase().indexOf(this.search.toLowerCase())>-1)),t},ReportsFiltered:function(){let t=[];return t=this.dataReport.filter((t=>t.nome.toLowerCase().indexOf(this.searchReport.toLowerCase())>-1)),t}},mounted(){this.getUsers()}},U=s(89);const C=(0,U.Z)(A,[["render",R],["__scopeId","data-v-3e49e27c"]]);var E=C}}]);
//# sourceMappingURL=98.8b5d1720.js.map