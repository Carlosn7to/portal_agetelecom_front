"use strict";(self["webpackChunkageportal"]=self["webpackChunkageportal"]||[]).push([[80],{3458:function(a,e,t){t.r(e),t.d(e,{default:function(){return Ja}});var s=t(3396),i=t(7139),d=t(9242);const o=a=>((0,s.dD)("data-v-0815d003"),a=a(),(0,s.Cn)(),a),r={id:"content-app"},l={id:"layer-app"},n={key:0,class:"management"},c={class:"container-mng"},h={class:"menu-mng"},m=o((()=>(0,s._)("i",{class:"fi fi-rr-users"},null,-1))),u=o((()=>(0,s._)("span",null,"Usuários",-1))),g=[m,u],p=o((()=>(0,s._)("i",{class:"fi fi-rr-search-alt"},null,-1))),b=o((()=>(0,s._)("span",null,"Dashboards",-1))),f=[p,b],v={key:0,class:"content-users animation-down"},w={class:"filters"},_={class:"list"},D=o((()=>(0,s._)("div",{class:"list-header"},[(0,s._)("div",{class:"item-list-header",style:{"text-align":"left",width:"25%"}}," Nome "),(0,s._)("div",{class:"item-list-header",style:{"text-align":"left",width:"25%"}}," E-mail "),(0,s._)("div",{class:"item-list-header",style:{"text-align":"center",width:"25%"}}," Acesso ")],-1))),k={key:0,class:"items-list-body animation-down"},y=["onClick"],C={class:"item-list-body",style:{"text-align":"left",width:"25%"}},I={class:"item-list-body",style:{"text-align":"left",width:"25%"}},A={class:"item-list-body",style:{"text-align":"center",width:"25%"}},U={key:1,class:"content-users animation-down"},B={class:"filters"},E={class:"list"},q=o((()=>(0,s._)("div",{class:"list-header"},[(0,s._)("div",{class:"item-list-header",style:{"text-align":"left",width:"25%"}}," Nome "),(0,s._)("div",{class:"item-list-header",style:{"text-align":"left",width:"25%"}}," Adicionado por "),(0,s._)("div",{class:"item-list-header",style:{"text-align":"center",width:"25%"}}," Status ")],-1))),z={key:0,class:"items-list-body animation-down"},P=["onClick"],x={class:"item-list-body",style:{"text-align":"left",width:"25%"}},Z=o((()=>(0,s._)("div",{class:"item-list-body",style:{"text-align":"left",width:"25%"}}," carlos.neto@agetelecom.com.br ",-1))),N={class:"item-list-body",style:{"text-align":"center",width:"25%"}},L={key:0,class:"loading-bar"};function F(a,e,t,o,m,u){const p=(0,s.up)("MenuApp"),b=(0,s.up)("HeaderApp"),F=(0,s.up)("EditAccess"),H=(0,s.up)("NewDashboard"),V=(0,s.up)("EditDashboard");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",r,[(0,s.Wm)(p,{mode:m.mode,system:"ageBoard"},null,8,["mode"]),(0,s._)("div",l,[(0,s.Wm)(b,{onMode:u.modeView},null,8,["onMode"]),(0,s._)("div",{id:"content-page",class:(0,i.C_)({"mode-l-p":"light"===m.mode||void 0===m.mode,"mode-d-p":"dark"===m.mode})},["Usuários"===m.page||"Dashboards"===m.page?((0,s.wg)(),(0,s.iD)("div",n,[(0,s._)("h1",null,"Gerenciamentos - "+(0,i.zw)(m.page),1),(0,s._)("div",c,[(0,s._)("div",h,[(0,s._)("nav",null,[(0,s._)("ul",null,[(0,s._)("li",{class:(0,i.C_)({selected:"Usuários"===m.page}),onClick:e[0]||(e[0]=a=>(m.page="Usuários",m.search=""))},g,2),(0,s._)("li",{class:(0,i.C_)({selected:"Dashboards"===m.page}),onClick:e[1]||(e[1]=a=>(m.page="Dashboards",m.search=""))},f,2)])])]),"Usuários"===m.page?((0,s.wg)(),(0,s.iD)("div",v,[(0,s._)("div",w,[(0,s.wy)((0,s._)("input",{type:"text",id:"search",name:"search",placeholder:"Buscar e-mail...",autocomplete:"off","onUpdate:modelValue":e[2]||(e[2]=a=>m.search=a)},null,512),[[d.nr,m.search]])]),(0,s._)("div",_,[D,!0===m.status?((0,s.wg)(),(0,s.iD)("div",k,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(u.UsersFiltered,((a,e)=>((0,s.wg)(),(0,s.iD)("div",{class:"list-body",key:e,onClick:e=>u.editAccess(a.id,a.name,a.access)},[(0,s._)("div",C,(0,i.zw)(a.name),1),(0,s._)("div",I,(0,i.zw)(a.email),1),(0,s._)("div",A,(0,i.zw)(a.access?"Ativo":"Inativo"),1)],8,y)))),128))])):(0,s.kq)("",!0)])])):(0,s.kq)("",!0),"Dashboards"===m.page?((0,s.wg)(),(0,s.iD)("div",U,[(0,s._)("div",B,[(0,s.wy)((0,s._)("input",{type:"text",id:"search",name:"search",placeholder:"Buscar Dashboard...",autocomplete:"off","onUpdate:modelValue":e[3]||(e[3]=a=>m.search=a)},null,512),[[d.nr,m.search]]),(0,s._)("button",{onClick:e[4]||(e[4]=a=>m.modal="newDashboard")},"Novo dashboard")]),(0,s._)("div",E,[q,!0===m.status?((0,s.wg)(),(0,s.iD)("div",z,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(u.DashFiltered,(a=>((0,s.wg)(),(0,s.iD)("div",{class:"list-body",key:a.id,onClick:e=>u.editDashboard(a.id,a.dashboard,a.active)},[(0,s._)("div",x,(0,i.zw)(a.dashboard),1),Z,(0,s._)("div",N,(0,i.zw)(1===a.active?"Ativo":"Inativo"),1)],8,P)))),128))])):(0,s.kq)("",!0)])])):(0,s.kq)("",!0)])])):(0,s.kq)("",!0)],2)])]),!0===m.loading?((0,s.wg)(),(0,s.iD)("div",L)):(0,s.kq)("",!0),"editAccess"===m.modal?((0,s.wg)(),(0,s.j4)(F,{key:1,onClosePage:e[5]||(e[5]=a=>u.closePage("users")),data:m.dataEdit},null,8,["data"])):(0,s.kq)("",!0),"newDashboard"===m.modal?((0,s.wg)(),(0,s.j4)(H,{key:2,onClosePage:e[6]||(e[6]=a=>u.closePage("Dashboards"))})):(0,s.kq)("",!0),"editDashboard"===m.modal?((0,s.wg)(),(0,s.j4)(V,{key:3,onClosePage:e[7]||(e[7]=a=>u.closePage("Dashboards")),data:m.dataEditDashboard},null,8,["data"])):(0,s.kq)("",!0)],64)}var H=t(8489),V=t(156),T=t(680),S=t(8089);const Y=a=>((0,s.dD)("data-v-773681fa"),a=a(),(0,s.Cn)(),a),M={id:"modal"},G={id:"card-modal"},O={id:"close-button"},K={class:"content-card"},$={class:"filters"},j={key:0,id:"list-boards"},W=Y((()=>(0,s._)("i",{class:"fi fi-rr-chart-pie"},null,-1))),R={class:"actions"},J=["onClick"],Q={key:1,id:"list-boards"},X=Y((()=>(0,s._)("i",{class:"fi fi-rr-chart-pie"},null,-1))),aa={class:"actions"},ea=["onClick"],ta=["onClick"],sa={key:0,class:"loading-bar"};function ia(a,e,t,o,r,l){return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",M,[(0,s._)("div",G,[(0,s._)("div",O,[(0,s._)("i",{class:"fi fi-rr-cross-small",onClick:e[0]||(e[0]=(...a)=>l.closePage&&l.closePage(...a))})]),(0,s._)("div",K,[(0,s._)("h1",null,"Editar acesso - "+(0,i.zw)(t.data.name),1),(0,s._)("div",$,[(0,s.wy)((0,s._)("input",{type:"text",id:"searchBoard",name:"searchBoard",placeholder:"Buscar dashboard...",autocomplete:"off","onUpdate:modelValue":e[1]||(e[1]=a=>r.searchBoard=a)},null,512),[[d.nr,r.searchBoard]]),"items"===r.page?((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:e[2]||(e[2]=a=>(r.page="dashboards",r.searchBoard=""))},"Voltar")):(0,s.kq)("",!0),(0,s._)("button",{onClick:e[3]||(e[3]=a=>l.alternateUserAccess())},(0,i.zw)(r.dataUser.access?"Inativar acesso":"Ativar acesso"),1)]),"dashboards"===r.page&&!0===r.status?((0,s.wg)(),(0,s.iD)("div",j,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.DashboardsFiltered||[],(a=>((0,s.wg)(),(0,s.iD)("div",{class:"item",key:a.id},[(0,s._)("span",null,[W,(0,s.Uk)(" "+(0,i.zw)(a.dashboard),1)]),(0,s._)("div",R,[(0,s._)("i",{class:"fi fi-rr-arrow-square-right",onClick:e=>l.getItems(a.id),style:{"font-size":"2rem"}},null,8,J)])])))),128))])):(0,s.kq)("",!0),"items"===r.page&&!0===r.status?((0,s.wg)(),(0,s.iD)("div",Q,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.ItemsFiltered||[],((a,e)=>((0,s.wg)(),(0,s.iD)("div",{class:"item",key:a.id},[(0,s._)("span",null,[X,(0,s.Uk)(" "+(0,i.zw)(a.item),1)]),(0,s._)("div",aa,[!1===a.status?((0,s.wg)(),(0,s.iD)("i",{key:0,class:"fi fi-br-check",style:{"font-size":"1.6rem"},onClick:a=>l.alterItemAccess(e)},null,8,ea)):(0,s.kq)("",!0),!0===a.status?((0,s.wg)(),(0,s.iD)("i",{key:1,class:"fi fi-br-cross",style:{"font-size":"1.4rem"},onClick:a=>l.alterItemAccess(e)},null,8,ta)):(0,s.kq)("",!0)])])))),128))])):(0,s.kq)("",!0)])])]),!0===r.loading?((0,s.wg)(),(0,s.iD)("div",sa)):(0,s.kq)("",!0)],64)}var da={name:"EditAccess",props:{data:{required:!0}},emits:["close-page"],data(){return{searchBoard:"",dataReport:{},status:!1,dataUser:this.data,loading:!0,dataBoards:{},dataItems:{},page:"dashboards"}},methods:{closePage:function(){this.$emit("close-page")},alternateUserAccess:function(){this.loading=!0,(0,S.m)({method:"PUT",url:`admin/access-systems/alternate/${this.data.id}`,headers:{Authorization:"Bearer"+T.Z.get("token")},params:{system:"ageboard"}}).then((a=>{this.dataUser.access=a.data.access,this.loading=!1,alert(a.data.msg)}))},getBoards:function(){this.status=!1,(0,S.m)({method:"GET",url:"ageboard/dashboard",headers:{Authorization:"Bearer"+T.Z.get("token")}}).then((a=>{this.dataBoards=a.data,this.loading=!1,this.status=!0}))},getItems:function(a){this.status=!1,this.page="items",this.loading=!0,this.searchBoard="",(0,S.m)({method:"GET",url:"ageboard/dashboard-items-management",headers:{Authorization:"Bearer"+T.Z.get("token")},params:{dashboardId:a,userId:this.data.id}}).then((a=>{this.dataItems=a.data,this.loading=!1,this.status=!0}))},alterItemAccess:function(a){(0,S.m)({method:"PUT",url:"ageboard/dashboard-items-alternate",params:{idUser:this.dataUser.id,idItem:this.dataItems[a].id}}).then((e=>{!0===this.dataItems[a].status?this.dataItems[a].status=!1:this.dataItems[a].status=!0,alert(e.data.msg),!0===e.data.access&&(this.dataUser.access=!0)}))}},computed:{DashboardsFiltered:function(){let a=[];return a=this.dataBoards.filter((a=>a.dashboard.toLowerCase().indexOf(this.searchBoard.toLowerCase())>-1)),a},ItemsFiltered:function(){let a=[];return a=this.dataItems.filter((a=>a.item.toLowerCase().indexOf(this.searchBoard.toLowerCase())>-1)),a}},mounted(){this.getBoards()}},oa=t(89);const ra=(0,oa.Z)(da,[["render",ia],["__scopeId","data-v-773681fa"]]);var la=ra;const na=a=>((0,s.dD)("data-v-5288cb4e"),a=a(),(0,s.Cn)(),a),ca={id:"modal"},ha={id:"card-modal"},ma={id:"close-button"},ua=na((()=>(0,s._)("h1",null,"Novo Dashboard",-1))),ga={class:"inputs"},pa=na((()=>(0,s._)("label",{for:"dashboard"},[(0,s.Uk)("Nome do Dashboard "),(0,s._)("b",null,"*")],-1))),ba=na((()=>(0,s._)("input",{type:"submit",value:"Salvar"},null,-1)));function fa(a,e,t,i,o,r){return(0,s.wg)(),(0,s.iD)("div",ca,[(0,s._)("div",ha,[(0,s._)("div",ma,[(0,s._)("i",{class:"fi fi-rr-cross-small",onClick:e[0]||(e[0]=(...a)=>r.closePage&&r.closePage(...a))})]),ua,(0,s._)("form",{action:"",onSubmit:e[2]||(e[2]=(0,d.iM)((a=>r.newDashboard()),["prevent"])),id:"newdashboard"},[(0,s._)("div",ga,[pa,(0,s.wy)((0,s._)("input",{type:"text",name:"dashboard",id:"dashboard",required:"","onUpdate:modelValue":e[1]||(e[1]=a=>o.dashboard=a),autocomplete:"off"},null,512),[[d.nr,o.dashboard]])]),ba],32)])])}var va={name:"NewDashboard",emits:["close-page"],data(){return{dashboard:""}},methods:{closePage:function(){this.$emit("close-page")},newDashboard:function(){(0,S.m)({method:"POST",url:"ageboard/dashboard",data:{dashboard:this.dashboard},headers:{Authorization:"Bearer "+T.Z.get("token")}}).then((a=>{alert(a.data.msg),201===a.status&&(this.dashboard="",this.closePage())}))}}};const wa=(0,oa.Z)(va,[["render",fa],["__scopeId","data-v-5288cb4e"]]);var _a=wa;const Da=a=>((0,s.dD)("data-v-1a7b7c61"),a=a(),(0,s.Cn)(),a),ka={id:"modal"},ya={id:"card-modal"},Ca={id:"close-button"},Ia={class:"content-card"},Aa={class:"filters"},Ua={key:0,id:"list-boards"},Ba=Da((()=>(0,s._)("i",{class:"fi fi-rr-chart-pie"},null,-1))),Ea=Da((()=>(0,s._)("div",{class:"actions"},[(0,s._)("i",{class:"fi fi-rr-arrow-square-right",style:{"font-size":"2rem"}})],-1))),qa={key:0,class:"loading-bar"};function za(a,e,t,o,r,l){const n=(0,s.up)("NewItem");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",ka,[(0,s._)("div",ya,[(0,s._)("div",Ca,[(0,s._)("i",{class:"fi fi-rr-cross-small",onClick:e[0]||(e[0]=(...a)=>l.closePage&&l.closePage(...a))})]),(0,s._)("div",Ia,[(0,s._)("h1",null,"Editar Dashboard - "+(0,i.zw)(t.data.name),1),(0,s._)("div",Aa,[(0,s.wy)((0,s._)("input",{type:"text",id:"searchBoard",name:"searchBoard",placeholder:"Buscar item...",autocomplete:"off","onUpdate:modelValue":e[1]||(e[1]=a=>r.search=a)},null,512),[[d.nr,r.search]]),(0,s._)("button",{onClick:e[2]||(e[2]=(...a)=>l.newItem&&l.newItem(...a))},"Adicionar novo item"),(0,s._)("button",{onClick:e[3]||(e[3]=(...a)=>l.tradeStatusDashboard&&l.tradeStatusDashboard(...a))},(0,i.zw)(1===t.data.active?"Inativar Dasboard":"Ativar Dashboard"),1)]),!0===r.status&&"items"===r.page?((0,s.wg)(),(0,s.iD)("div",Ua,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.ItemsFiltered,(a=>((0,s.wg)(),(0,s.iD)("div",{class:"item",key:a.id},[(0,s._)("span",null,[Ba,(0,s.Uk)(" "+(0,i.zw)(a.item),1)]),Ea])))),128))])):(0,s.kq)("",!0)])])]),!0===r.loading?((0,s.wg)(),(0,s.iD)("div",qa)):(0,s.kq)("",!0),"newItem"===r.modal?((0,s.wg)(),(0,s.j4)(n,{key:1,onClosePage:l.newItem,data:t.data},null,8,["onClosePage","data"])):(0,s.kq)("",!0)],64)}const Pa=a=>((0,s.dD)("data-v-f8cd244c"),a=a(),(0,s.Cn)(),a),xa={id:"modal"},Za={id:"card-modal"},Na={id:"close-button"},La=Pa((()=>(0,s._)("h1",null,"Adicionar novo item",-1))),Fa={class:"inputs"},Ha=Pa((()=>(0,s._)("label",{for:"name"},[(0,s.Uk)("Nome do item: "),(0,s._)("b",null,"*")],-1))),Va={class:"inputs"},Ta=Pa((()=>(0,s._)("label",{for:"iframe"},[(0,s.Uk)("Iframe: "),(0,s._)("b",null,"*")],-1))),Sa=Pa((()=>(0,s._)("input",{type:"submit",value:"Cadastrar"},null,-1)));function Ya(a,e,t,i,o,r){return(0,s.wg)(),(0,s.iD)("div",xa,[(0,s._)("div",Za,[(0,s._)("div",Na,[(0,s._)("i",{class:"fi fi-rr-cross-small",onClick:e[0]||(e[0]=(...a)=>r.closePage&&r.closePage(...a))})]),La,(0,s._)("form",{action:"",onSubmit:e[3]||(e[3]=(0,d.iM)(((...a)=>r.newItem&&r.newItem(...a)),["prevent"]))},[(0,s._)("div",Fa,[Ha,(0,s.wy)((0,s._)("input",{type:"text",name:"name",id:"name",autocomplete:"off",required:"","onUpdate:modelValue":e[1]||(e[1]=a=>o.inputs.name=a)},null,512),[[d.nr,o.inputs.name]])]),(0,s._)("div",Va,[Ta,(0,s.wy)((0,s._)("input",{type:"text",name:"iframe",id:"iframe",autocomplete:"off",required:"","onUpdate:modelValue":e[2]||(e[2]=a=>o.inputs.iframe=a)},null,512),[[d.nr,o.inputs.iframe]])]),Sa],32)])])}var Ma={name:"NewItem",props:{data:{required:!0}},data(){return{inputs:{name:"",iframe:"",idDash:this.data.id}}},methods:{closePage:function(){this.$emit("close-page")},newItem:function(){alert("click")}}};const Ga=(0,oa.Z)(Ma,[["render",Ya],["__scopeId","data-v-f8cd244c"]]);var Oa=Ga,Ka={name:"EditAccess",components:{NewItem:Oa},props:{data:{required:!0}},emits:["close-page"],data(){return{search:"",dataBoard:this.data,status:!1,loading:!0,dataItems:{},page:"items",modal:""}},methods:{closePage:function(){this.$emit("close-page")},getItems:function(){(0,S.m)({method:"GET",url:"ageboard/dashboard-items",headers:{Authorization:"Bearer "+T.Z.get("token")},params:{id:this.data.id}}).then((a=>{this.dataItems=a.data,this.status=!0,this.loading=!1}))},tradeStatusDashboard:function(){this.loading=!0,(0,S.m)({method:"DELETE",url:"ageboard/dashboard/"+this.data.id,headers:{Authorization:"Bearer "+T.Z.get("token")}}).then((a=>{this.dataBoard.active=1===this.data.active?0:1,this.loading=!1,alert(a.data.msg)}))},newItem:function(){"newItem"===this.modal?this.modal="items":this.modal="newItem"}},computed:{ItemsFiltered:function(){let a=[];return a=this.dataItems.filter((a=>a.item.toLowerCase().indexOf(this.search.toLowerCase())>-1)),a}},mounted(){this.getItems()}};const $a=(0,oa.Z)(Ka,[["render",za],["__scopeId","data-v-1a7b7c61"]]);var ja=$a,Wa={name:"DashboardManagement",components:{MenuApp:H.Z,HeaderApp:V.Z,EditAccess:la,NewDashboard:_a,EditDashboard:ja},data(){return{mode:T.Z.get("mode"),page:"Dashboards",data:{},status:!1,loading:!0,search:"",modal:"",dataEdit:{name:"",id:0,access:!1},dataDash:{},dataEditDashboard:{name:"",active:0,id:0}}},methods:{modeView:function(a){this.mode=a},getUsers:function(){this.status=!1,(0,S.m)({method:"GET",url:"admin/access-systems",params:{system:"ageboard"},headers:{Authorization:"Bearer"+T.Z.get("token")}}).then((a=>{this.data=a.data,this.status=!0,this.loading=!1})).catch((()=>{}))},editAccess:function(a,e,t){this.dataEdit.id=a,this.dataEdit.name=e,this.dataEdit.access=t,this.modal="editAccess"},closePage:function(a){"Dashboards"===a&&(this.page="Dashboards",this.id=0,this.modal="",this.getDashboards()),"users"===a&&(this.modal="")},getDashboards:function(){(0,S.m)({method:"GET",url:"ageboard/dashboards",headers:{Authorization:"Bearer "+T.Z.get("token")}}).then((a=>{this.dataDash=a.data,console.table(a.data)}))},editDashboard:function(a,e,t){this.dataEditDashboard.id=a,this.dataEditDashboard.name=e,this.dataEditDashboard.active=t,this.modal="editDashboard"}},computed:{UsersFiltered:function(){let a=[];return a=this.data.filter((a=>a.name.toLowerCase().indexOf(this.search.toLowerCase())>-1)),a},DashFiltered:function(){let a=[];return a=this.dataDash.filter((a=>a.dashboard.toLowerCase().indexOf(this.search.toLowerCase())>-1)),a}},mounted(){this.getUsers(),this.getDashboards()}};const Ra=(0,oa.Z)(Wa,[["render",F],["__scopeId","data-v-0815d003"]]);var Ja=Ra}}]);
//# sourceMappingURL=80.f0f346f4.js.map