"use strict";(self["webpackChunkageportal"]=self["webpackChunkageportal"]||[]).push([[83],{7083:function(a,t,e){e.r(t),e.d(t,{default:function(){return ma}});var s=e(3396),l=e(7139);const i=a=>((0,s.dD)("data-v-5ae620b4"),a=a(),(0,s.Cn)(),a),d={key:0,class:"container-dashboard"},n={class:"filters"},o=i((()=>(0,s._)("h1",null,"DASHBOARD",-1))),r={class:"buttons"},c=["disabled"],p=i((()=>(0,s._)("span",null," Penúltimo mês ",-1))),u=[p],h=["disabled"],g=i((()=>(0,s._)("span",null," Último mês ",-1))),m=[g],_={class:"graphs"},b={class:"group-third"},f=i((()=>(0,s._)("div",{class:"card"},null,-1))),y={class:"card"},v=i((()=>(0,s._)("div",{class:"icon"},[(0,s._)("i",{class:"fi fi-rr-star"})],-1))),C={class:"title-info"},S=i((()=>(0,s._)("h2",null,"Valor da estrela",-1))),k={class:"card"},w=i((()=>(0,s._)("div",{class:"icon"},[(0,s._)("i",{class:"fi fi-rr-chevron-double-up"})],-1))),E={class:"title-info"},D=i((()=>(0,s._)("h2",null,"Acelerador",-1))),L=i((()=>(0,s._)("div",{class:"icon"},[(0,s._)("i",{class:"fi fi-rr-chevron-double-down"})],-1))),T={class:"title-info"},x=i((()=>(0,s._)("h2",null,"Deflator",-1)));function R(a,t,e,i,p,g){const R=(0,s.up)("GraphCards"),G=(0,s.up)("GraphSales");return!0===p.status?((0,s.wg)(),(0,s.iD)("div",d,[(0,s._)("div",n,[o,(0,s._)("div",r,[(0,s._)("button",{disabled:!0===p.filters.pending,class:(0,l.C_)({selected:"penultimate-month"===p.filters.dataType}),onClick:t[0]||(t[0]=a=>g.getData("penultimate-month"))},u,10,c),(0,s._)("button",{disabled:!0===p.filters.pending,class:(0,l.C_)({selected:"month"===p.filters.dataType}),onClick:t[1]||(t[1]=a=>g.getData("month"))},m,10,h)])]),(0,s.Wm)(R,{data:p.data},null,8,["data"]),(0,s._)("div",_,[(0,s.Wm)(G,{data_sales:p.data.sales,data_stars:p.data.stars},null,8,["data_sales","data_stars"]),(0,s._)("div",b,[f,(0,s._)("div",y,[v,(0,s._)("div",C,[(0,s._)("h3",null,"R$"+(0,l.zw)(p.data.valueStar.value),1),S])]),(0,s._)("div",k,[p.data.commission.diff>0?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[w,(0,s._)("div",E,[(0,s._)("h3",null,"R$"+(0,l.zw)(p.data.commission.diff),1),D])],64)):((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[L,(0,s._)("div",T,[(0,s._)("h3",null,"R$ "+(0,l.zw)(p.data.commission.diff),1),x])],64))])])])])):(0,s.kq)("",!0)}var G=e(65);const W=a=>((0,s.dD)("data-v-4100c438"),a=a(),(0,s.Cn)(),a),z={class:"card"},A=W((()=>(0,s._)("div",{class:"title-info"},[(0,s._)("h1",null,"Vendas e média de estrelas do período"),(0,s._)("h3",null,"Apenas vendas aprovadas e válidas")],-1))),I=W((()=>(0,s._)("div",{class:"graph"},[(0,s._)("canvas",{id:"lineSalesDaily"})],-1))),M=[A,I];function B(a,t,e,l,i,d){return(0,s.wg)(),(0,s.iD)("div",z,M)}e(7658);var V=e(1632),F={name:"GraphSales",props:["data_sales","data_stars"],computed:{...(0,G.Se)(["system"])},methods:{getLineSales:function(){const a=document.getElementById("lineSalesDaily").getContext("2d"),t=["#6C6EF6","#d4d4e1","#6C6EF6","#d4d4e1","#6C6EF6"],e=[],s=[],l=[];this.data_sales.salesForWeek.forEach((a=>{s.push("Sem "+a.week),e.push(a.sales)})),this.data_stars.starsForWeek.forEach((a=>{l.push(a.sales)}));const i={labels:s,datasets:[{type:"bar",data:e,label:"Vendas",borderWidth:0,pointRadius:0,borderRadius:15,backgroundColor:t,borderSkipped:!1,maxBarThickness:50,categoryPercentage:.8,order:2},{type:"line",order:1,data:l,borderWidth:2,pointRadius:4,backgroundColor:"#6A6CF6",fill:!1,label:"Estrelas"}]},d=new V.kL(a,{data:i,options:{scales:{y:{display:!0,grid:{display:!1}},x:{display:!0,grid:{display:!1},border:{display:!1},ticks:{font:{size:8}}}},plugins:{legend:{display:!1}},elements:{line:{tension:.3,borderColor:"rgb(52,140,212)"}}}});return d}},mounted(){this.getLineSales()}},Y=e(89);const Z=(0,Y.Z)(F,[["render",B],["__scopeId","data-v-4100c438"]]);var $=Z;const q=a=>((0,s.dD)("data-v-09b5d5cd"),a=a(),(0,s.Cn)(),a),H={class:"graphs-cards"},O={class:"card"},P=q((()=>(0,s._)("div",{class:"icon"},[(0,s._)("i",{class:"fi fi-rr-chart-mixed"})],-1))),j={class:"title-info"},J=q((()=>(0,s._)("h2",null,"Total de vendas",-1))),K={class:"card"},N=q((()=>(0,s._)("div",{class:"icon"},[(0,s._)("i",{class:"fi fi-rr-trophy-star"})],-1))),Q={class:"title-info"},U=q((()=>(0,s._)("h2",null,"Total de estrelas",-1))),X={class:"card"},aa=q((()=>(0,s._)("div",{class:"icon"},[(0,s._)("i",{class:"fi fi-rr-usd-square"})],-1))),ta={class:"title-info"},ea=q((()=>(0,s._)("h2",null,"Total em comissão",-1))),sa={class:"card"},la=q((()=>(0,s._)("div",{class:"icon"},[(0,s._)("i",{class:"fi fi-rr-ban"})],-1))),ia={class:"title-info"},da=q((()=>(0,s._)("h2",null,"Total de cancelamentos",-1)));function na(a,t,e,i,d,n){return(0,s.wg)(),(0,s.iD)("div",H,[(0,s._)("div",O,[P,(0,s._)("div",j,[(0,s._)("h3",null,(0,l.zw)(e.data.sales.count),1),J])]),(0,s._)("div",K,[N,(0,s._)("div",Q,[(0,s._)("h3",null,(0,l.zw)(e.data.stars.totalStars),1),U])]),(0,s._)("div",X,[aa,(0,s._)("div",ta,[(0,s._)("h3",null,"R$"+(0,l.zw)(e.data.commission.liquid),1),ea])]),(0,s._)("div",sa,[la,(0,s._)("div",ia,[(0,s._)("h3",null,(0,l.zw)(e.data.cancel.count),1),da])])])}var oa={name:"GraphCards",props:["data"],methods:{getLineSales:function(){const a=document.getElementById("lineSales").getContext("2d");var t=a.createLinearGradient(0,0,0,30);t.addColorStop(0,"rgb(52,140,212,0)"),t.addColorStop(1,"rgba(9,41,65,0.0)");const e={labels:[1,2,3,4,5,6,7],datasets:[{data:[10,5,8,3,9,1],borderWidth:2,pointRadius:1,backgroundColor:t,fill:!0,label:"Vendas"}]},s=new V.kL(a,{type:"line",data:e,options:{scales:{y:{display:!1},x:{display:!1,grid:{display:!1},border:{display:!1},ticks:{color:"rgba(89, 91, 106, 0.48)"}}},plugins:{legend:{display:!1}},elements:{line:{tension:.5,borderColor:"rgb(52,140,212)"}}}});return s},getLineStars:function(){const a=document.getElementById("lineStars").getContext("2d");var t=a.createLinearGradient(0,0,0,30);t.addColorStop(0,"rgb(238,202,21,0)"),t.addColorStop(1,"rgba(86,73,8,0.0)");const e={labels:[1,2,3,4,5,6,7],datasets:[{data:[3,1,5,1,10,3],borderWidth:2,pointRadius:1,backgroundColor:t,fill:!0,label:"Estrelas"}]},s=new V.kL(a,{type:"line",data:e,options:{scales:{y:{display:!1},x:{display:!1,grid:{display:!1},border:{display:!1},ticks:{color:"rgba(89, 91, 106, 0.48)"}}},plugins:{legend:{display:!1}},elements:{line:{tension:.4,borderColor:"rgb(238,202,21)"}}}});return s},getLineCommission:function(){const a=document.getElementById("lineCommission").getContext("2d");var t=a.createLinearGradient(0,0,0,30);t.addColorStop(0,"rgb(18,161,25,0)"),t.addColorStop(1,"rgba(10,79,13,0.0)");const e={labels:[1,2,3,4,5,6,7],datasets:[{data:[3,7,2,10,6,15],borderWidth:2,pointRadius:1,backgroundColor:t,fill:!0,label:"Comissão"}]},s=new V.kL(a,{type:"line",data:e,options:{scales:{y:{display:!1},x:{display:!1,grid:{display:!1},border:{display:!1},ticks:{color:"rgba(89, 91, 106, 0.48)"}}},plugins:{legend:{display:!1}},elements:{line:{tension:.5,borderColor:"rgb(18,161,25)"}}}});return s},getLineCancels:function(){const a=document.getElementById("lineCancels").getContext("2d");var t=a.createLinearGradient(0,0,0,30);t.addColorStop(0,"rgba(206,5,5,0)"),t.addColorStop(1,"rgba(56,3,3,0)");const e={labels:[1,2,3,4,5,6,7],datasets:[{data:[10,3,2,1,7,1],borderWidth:2,pointRadius:1,backgroundColor:t,fill:!0,label:"Cancelamentos"}]},s=new V.kL(a,{type:"line",data:e,options:{scales:{y:{display:!1},x:{display:!1,grid:{display:!1},border:{display:!1},ticks:{color:"rgba(89, 91, 106, 0.48)"}}},plugins:{legend:{display:!1}},elements:{line:{tension:.5,borderColor:"rgb(206,5,5)"}}}});return s}},mounted(){}};const ra=(0,Y.Z)(oa,[["render",na],["__scopeId","data-v-09b5d5cd"]]);var ca=ra,pa=e(8089),ua=e(680),ha={name:"DashboardSales",components:{GraphSales:$,GraphCards:ca},data(){return{filters:{dataType:"month",pending:!1,month:null,year:null},data:{},status:!1}},methods:{...(0,G.OI)(["SAVE_SYSTEM"]),getData:function(a){this.filters.dataType=a,this.filters.pending=!0,this.getSellers()},getSellers:function(){this.SAVE_SYSTEM({loading:!0}),"penultimate-month"===this.filters.dataType?(this.filters.month=this.filters.month-1,this.filters.month="0"+this.filters.month):this.getMonth(),(0,pa.m)({method:"GET",url:"agerv/analytics/payment",headers:{Authorization:"Bearer "+ua.Z.get("token")},params:{dashboard:!0,year:"2023",month:this.filters.month}}).then((a=>{this.data=a.data,this.SAVE_SYSTEM({loading:!1}),this.status=!0,this.filters.pending=!1}))},getMonth:function(){const a=new Date;a.getMonth()<10?this.filters.month="0"+a.getMonth():this.filters.month=(a.getMonth()+1).toString()}},computed:{...(0,G.Se)(["system"])},mounted(){this.getMonth(),this.getSellers()}};const ga=(0,Y.Z)(ha,[["render",R],["__scopeId","data-v-5ae620b4"]]);var ma=ga}}]);
//# sourceMappingURL=83.accf32ca.js.map