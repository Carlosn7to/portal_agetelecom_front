"use strict";(self["webpackChunkageportal"]=self["webpackChunkageportal"]||[]).push([[922],{5922:function(a,e,t){t.r(e),t.d(e,{default:function(){return Ia}});var i=t(3396);function l(a,e,t,l,n,s){const o=(0,i.up)("MailersAvailable"),m=(0,i.up)("TemplatesAvailable"),d=(0,i.up)("TemplateOptions");return(0,i.wg)(),(0,i.iD)(i.HY,null,["mailers"===n.page?((0,i.wg)(),(0,i.j4)(o,{key:0,onViewTemplate:s.viewTemplate},null,8,["onViewTemplate"])):(0,i.kq)("",!0),"templates"===n.page?((0,i.wg)(),(0,i.j4)(m,{key:1,mailer:n.mailer,onBackMailer:e[0]||(e[0]=a=>n.page="mailers"),onOptionsTemplate:s.optionsTemplate},null,8,["mailer","onOptionsTemplate"])):(0,i.kq)("",!0),"template-options"===n.page?((0,i.wg)(),(0,i.j4)(d,{key:2,template:n.template,onBackTemplates:e[1]||(e[1]=a=>n.page="templates")},null,8,["template"])):(0,i.kq)("",!0)],64)}var n=t(65),s=t(7139);const o={class:"container-mail"},m=(0,i._)("h1",null,"Mailers disponíveis",-1),d={class:"mailers"},r={class:"section"},p={class:"table-list"},c=(0,i.uE)('<div class="header"><div class="data-item"><span> E-mail </span></div><div class="data-item"><span> Limite diário </span></div><div class="data-item"><span> Limite atingido </span></div><div class="data-item"><span> Lotes enviados </span></div><div class="data-item"><span> E-mails enviados </span></div><div class="data-item"><span> Templates disponíveis </span></div></div>',1),u={class:"body"},v=["onClick"],_={class:"data-item"},f={class:"data-item"},g={class:"data-item"},h={class:"data-item"},k={class:"data-item"},b={class:"data-item"};function w(a,e,t,l,n,w){return(0,i.wg)(),(0,i.iD)("div",o,[m,(0,i._)("div",d,[(0,i._)("div",r,[(0,i._)("div",p,[c,(0,i._)("div",u,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.data,(a=>((0,i.wg)(),(0,i.iD)("div",{class:"row-item",key:a.id,onClick:e=>w.viewTemplate({name:a.mailer,id:a.id})},[(0,i._)("div",_,(0,s.zw)(a.mailer),1),(0,i._)("div",f,(0,s.zw)(a.limit_daily),1),(0,i._)("div",g,(0,s.zw)(a.limit_reached),1),(0,i._)("div",h,(0,s.zw)(a.info.batch),1),(0,i._)("div",k,(0,s.zw)(a.info.emails),1),(0,i._)("div",b,(0,s.zw)(a.templates),1)],8,v)))),128))])])])])])}var T=t(8089),S=t(680),E={name:"MailersAvailable",data(){return{data:{}}},methods:{...(0,n.OI)(["SAVE_SYSTEM"]),viewTemplate:function(a){this.$emit("view-template",a)},getMailers:function(){(0,T.m)({method:"GET",url:"agetools/tools/mailer/mailers",headers:{Authorization:"Bearer "+S.Z.get("token")}}).then((a=>{this.data=a.data,this.SAVE_SYSTEM({loading:!1})}))}},beforeMount(){this.SAVE_SYSTEM({loading:!0}),this.getMailers()}},M=t(89);const V=(0,M.Z)(E,[["render",w]]);var y=V;const A=a=>((0,i.dD)("data-v-3455c9be"),a=a(),(0,i.Cn)(),a),O={class:"container-mail"},Y={class:"back"},D={class:"mailers"},q={class:"section"},C={class:"table-list"},z=A((()=>(0,i._)("div",{class:"header"},[(0,i._)("div",{class:"data-item"},[(0,i._)("span",null," Template ")]),(0,i._)("div",{class:"data-item"},[(0,i._)("span",null," Lotes enviados ")]),(0,i._)("div",{class:"data-item"},[(0,i._)("span",null," E-mails enviados ")])],-1))),I={class:"body"},H=["onClick"],Z={class:"data-item"},U={class:"data-item"},B={class:"data-item"};function L(a,e,t,l,n,o){return(0,i.wg)(),(0,i.iD)("div",O,[(0,i._)("h1",null,[(0,i.Uk)("Templates disponíveis - "),(0,i._)("b",null,(0,s.zw)(t.mailer.name),1)]),(0,i._)("div",Y,[(0,i._)("button",{onClick:e[0]||(e[0]=(...a)=>o.backMailers&&o.backMailers(...a))},"Voltar")]),(0,i._)("div",D,[(0,i._)("div",q,[(0,i._)("div",C,[z,(0,i._)("div",I,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.data,(a=>((0,i.wg)(),(0,i.iD)("div",{class:"row-item",key:a.id,onClick:e=>o.optionsTemplate({template:a,mailer:this.mailer})},[(0,i._)("div",Z,(0,s.zw)(a.name),1),(0,i._)("div",U,(0,s.zw)(a.info.batch),1),(0,i._)("div",B,(0,s.zw)(a.info.emails),1)],8,H)))),128))])])])])])}var $={name:"TemplatesAvailable",props:["mailer"],emits:["back-maier","options-template"],data(){return{data:{}}},methods:{...(0,n.OI)(["SAVE_SYSTEM"]),backMailers:function(){this.$emit("back-mailer")},optionsTemplate:function(a){this.SAVE_SYSTEM({loading:!0}),this.$emit("options-template",a)},getTemplates:function(){this.SAVE_SYSTEM({loading:!0}),(0,T.m)({method:"GET",url:"agetools/tools/mailer/templates",headers:{Authorization:"Bearer "+S.Z.get("token")},params:{mailerId:this.mailer.id}}).then((a=>{this.data=a.data,this.SAVE_SYSTEM({loading:!1})}))}},beforeMount(){this.getTemplates()}};const j=(0,M.Z)($,[["render",L],["__scopeId","data-v-3455c9be"]]);var K=j;const N=a=>((0,i.dD)("data-v-71f6d6c7"),a=a(),(0,i.Cn)(),a),F={key:0,class:"container-mail"},G={class:"back"},J={class:"options"},W=N((()=>(0,i._)("i",{class:"fi fi-rr-eye"},null,-1))),x=N((()=>(0,i._)("h2",null,"Visualizar Template",-1))),P=[W,x],Q=N((()=>(0,i._)("i",{class:"fi fi-rr-envelope"},null,-1))),R=N((()=>(0,i._)("h2",null,"E-mail individual",-1))),X=[Q,R],aa=N((()=>(0,i._)("div",{class:"option"},[(0,i._)("i",{class:"fi fi-rr-envelopes"}),(0,i._)("h2",null,"E-mail em massa")],-1))),ea=N((()=>(0,i._)("div",{class:"option"},[(0,i._)("i",{class:"fi fi-rr-envelope-open"}),(0,i._)("h2",null,"Histórico de envios")],-1)));function ta(a,e,t,l,n,s){const o=(0,i.up)("UniqueEmail"),m=(0,i.up)("ViewTemplate");return(0,i.wg)(),(0,i.iD)(i.HY,null,["main"===n.page?((0,i.wg)(),(0,i.iD)("div",F,[(0,i._)("div",G,[(0,i._)("button",{onClick:e[0]||(e[0]=(...a)=>s.backTemplates&&s.backTemplates(...a))}," Voltar ")]),(0,i._)("div",J,[(0,i._)("div",{class:"option",onClick:e[1]||(e[1]=a=>n.page="view-template")},P),(0,i._)("div",{class:"option",onClick:e[2]||(e[2]=a=>n.page="unique-email")},X),aa,ea])])):(0,i.kq)("",!0),"unique-email"===n.page?((0,i.wg)(),(0,i.j4)(o,{key:1,onBackOptions:e[3]||(e[3]=a=>n.page="main"),dataconfig:this.template},null,8,["dataconfig"])):(0,i.kq)("",!0),"view-template"===n.page?((0,i.wg)(),(0,i.j4)(m,{key:2,onBackOptions:e[4]||(e[4]=a=>n.page="main"),dataconfig:this.template},null,8,["dataconfig"])):(0,i.kq)("",!0)],64)}var ia=t(9242);const la=a=>((0,i.dD)("data-v-30bad71c"),a=a(),(0,i.Cn)(),a),na={class:"back"},sa={class:"form-container"},oa={class:"form"},ma=la((()=>(0,i._)("h1",null,"Carta de cobrança - Débito e ONU",-1))),da=["for"],ra={key:0},pa=["type","onUpdate:modelValue","required","name"],ca={class:"input"},ua=la((()=>(0,i._)("label",{for:"email"},[(0,i.Uk)("E-mail: "),(0,i._)("b",null,"*")],-1))),va=la((()=>(0,i._)("div",{class:"send"},[(0,i._)("button",null,"Enviar e-mail")],-1)));function _a(a,e,t,l,n,o){return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",na,[(0,i._)("button",{onClick:e[0]||(e[0]=(...a)=>o.backOptions&&o.backOptions(...a))}," Voltar ")]),(0,i._)("div",sa,[(0,i._)("div",oa,[ma,(0,i._)("form",{action:"#",onSubmit:e[2]||(e[2]=(0,ia.iM)(((...a)=>o.sendEmail&&o.sendEmail(...a)),["prevent"]))},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.form,((a,e)=>((0,i.wg)(),(0,i.iD)("div",{class:"input",key:e},[(0,i._)("label",{for:a.name},[(0,i.Uk)((0,s.zw)(a.title)+": ",1),a.required?((0,i.wg)(),(0,i.iD)("b",ra,"*")):(0,i.kq)("",!0)],8,da),(0,i.wy)((0,i._)("input",{type:a.type,"onUpdate:modelValue":e=>a.data=e,required:a.required,name:a.name,autocomplete:"off"},null,8,pa),[[ia.YZ,a.data]])])))),128)),(0,i._)("div",ca,[ua,(0,i.wy)((0,i._)("input",{type:"email",name:"email",id:"email","onUpdate:modelValue":e[1]||(e[1]=a=>n.email=a),required:"",autocomplete:"off"},null,512),[[ia.nr,n.email]])]),va],32)])])],64)}var fa={name:"UniqueEmail",emits:["back-options"],props:["dataconfig"],data(){return{form:{},email:""}},methods:{backOptions:function(){this.$emit("back-options")},sendEmail:function(){const a={mailerId:this.dataconfig.mailer.id,templateId:this.dataconfig.template.id,email:this.email,form:this.form};(0,T.m)({method:"post",url:"agetools/tools/mailer/email/sending",headers:{Authorization:"Bearer "+S.Z.get("token")},data:{data:JSON.stringify(a)}}).then((a=>{console.log(a)}))},convertForm:function(){this.form=JSON.parse(this.dataconfig.template.form)}},beforeMount(){this.convertForm()}};const ga=(0,M.Z)(fa,[["render",_a],["__scopeId","data-v-30bad71c"]]);var ha=ga;const ka={class:"back"},ba={class:"template-container"};function wa(a,e,t,l,n,s){const o=(0,i.up)("SlotViewTemplate");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",ka,[(0,i._)("button",{onClick:e[0]||(e[0]=(...a)=>s.backOptions&&s.backOptions(...a))}," Voltar ")]),(0,i._)("div",ba,[(0,i.Wm)(o,{html:t.dataconfig.template.template},null,8,["html"])])],64)}const Ta=["innerHTML"];function Sa(a,e,t,l,n,s){return(0,i.wg)(),(0,i.iD)("div",{innerHTML:t.html},null,8,Ta)}var Ea={name:"SlotViewTemplate",props:{html:{required:!0}}};const Ma=(0,M.Z)(Ea,[["render",Sa],["__scopeId","data-v-d1354a82"]]);var Va=Ma,ya={name:"ViewTemplate",components:{SlotViewTemplate:Va},emits:["back-options"],props:["dataconfig"],methods:{backOptions:function(){this.$emit("back-options")}},beforeMount(){}};const Aa=(0,M.Z)(ya,[["render",wa],["__scopeId","data-v-790c82b9"]]);var Oa=Aa,Ya={name:"TemplateOptions",emits:["back-templates"],components:{UniqueEmail:ha,ViewTemplate:Oa},props:["template"],data(){return{page:"main"}},methods:{...(0,n.OI)(["SAVE_SYSTEM"]),backTemplates:function(){this.$emit("back-templates")}},beforeMount(){this.SAVE_SYSTEM({loading:!1})}};const Da=(0,M.Z)(Ya,[["render",ta],["__scopeId","data-v-71f6d6c7"]]);var qa=Da,Ca={name:"HomeMailer",components:{MailersAvailable:y,TemplatesAvailable:K,TemplateOptions:qa},data(){return{page:"mailers",mailer:{},template:{}}},methods:{...(0,n.OI)(["SAVE_SYSTEM"]),viewTemplate:function(a){this.SAVE_SYSTEM({loading:!0}),this.mailer=a,this.page="templates"},optionsTemplate:function(a){this.SAVE_SYSTEM({loading:!0}),this.template=a,this.page="template-options"}},beforeMount(){}};const za=(0,M.Z)(Ca,[["render",l]]);var Ia=za}}]);
//# sourceMappingURL=922.b5dfe0ee.js.map